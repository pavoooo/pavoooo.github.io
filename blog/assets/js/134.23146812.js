(window.webpackJsonp=window.webpackJsonp||[]).push([[134],{167:function(s,t,a){"use strict";a.r(t);var n=a(0),e=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"content"},[a("h1",[s._v("防火墙")]),s._v(" "),a("blockquote",[a("p",[s._v("详细看看")])]),s._v(" "),a("h2",{attrs:{id:"防火墙分类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#防火墙分类","aria-hidden":"true"}},[s._v("#")]),s._v(" 防火墙分类")]),s._v(" "),a("p",[a("code",[s._v("防火墙")]),s._v("根据屋里设备情况可以分为"),a("code",[s._v("软件防火墙")]),s._v("和"),a("code",[s._v("硬件防火墙")]),s._v("。"),a("code",[s._v("软件防火墙")]),s._v("主要用于数据包的过滤，比如是否允许某些"),a("code",[s._v("ip")]),s._v("或者某些端口进入我们的主机。"),a("code",[s._v("硬件防火墙")]),s._v("主要用来防御"),a("code",[s._v("DDOS")]),s._v("攻击等。")]),s._v(" "),a("p",[a("code",[s._v("centos 6")]),s._v("默认的防火墙是"),a("code",[s._v("iptables")]),s._v("。")]),s._v(" "),a("p",[a("code",[s._v("centos 7")]),s._v("默认的防火墙是"),a("code",[s._v("firewallD")]),s._v("(底层使用"),a("code",[s._v("netfilter")]),s._v(")")]),s._v(" "),a("h2",{attrs:{id:"iptables的表和链"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#iptables的表和链","aria-hidden":"true"}},[s._v("#")]),s._v(" iptables的表和链")]),s._v(" "),a("h3",{attrs:{id:"规则表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#规则表","aria-hidden":"true"}},[s._v("#")]),s._v(" 规则表")]),s._v(" "),a("p",[a("code",[s._v("规则表")]),s._v("指定了"),a("code",[s._v("iptables")]),s._v("能够支持的功能")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("filter")])])]),s._v(" "),a("p",[s._v("这个表用来设置允许的"),a("code",[s._v("ip")]),s._v("，"),a("code",[s._v("端口")]),s._v("，"),a("code",[s._v("协议")]),s._v("等")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("nat")])])]),s._v(" "),a("p",[s._v("这个表主要用来做网络地址转换的")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("mangle")])]),s._v(" "),a("li",[a("strong",[s._v("raw")])])]),s._v(" "),a("h3",{attrs:{id:"规则链"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#规则链","aria-hidden":"true"}},[s._v("#")]),s._v(" 规则链")]),s._v(" "),a("p",[s._v("用来设置过滤的方向")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("INPUT")])]),s._v(" "),a("li",[a("strong",[s._v("OUTPUT")])]),s._v(" "),a("li",[a("strong",[s._v("FORWARD")])]),s._v(" "),a("li",[a("strong",[s._v("PREROUTINH")])]),s._v(" "),a("li",[a("strong",[s._v("POSTROUTING")])])]),s._v(" "),a("h2",{attrs:{id:"iptables的filter表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#iptables的filter表","aria-hidden":"true"}},[s._v("#")]),s._v(" iptables的filter表")]),s._v(" "),a("p",[s._v("这个表主要是用来做过滤的，使用方式如下")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("iptables -t filter 命令 规则链 规则 动作\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token comment"}},[s._v("# 允许10.0.0.1访问我们的主机")]),s._v("\niptables -t filter -A INPUT -s 10.0.0.1 -j ACCEPT\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token comment"}},[s._v("# 验证一下")]),s._v("\niptables -t filter -L\n\niptables -t filter -nL\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@instance-6w9riila ~"),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{attrs:{class:"token comment"}},[s._v("# iptables -t filter -A INPUT -s 10.0.0.1 -j ACCEPT")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@instance-6w9riila ~"),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{attrs:{class:"token comment"}},[s._v("# iptables -t filter -L")]),s._v("\nChain INPUT "),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("policy ACCEPT"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ntarget     prot opt "),a("span",{attrs:{class:"token function"}},[s._v("source")]),s._v("               destination\nACCEPT     all  --  10.0.0.1             anywhere\n\nChain FORWARD "),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("policy ACCEPT"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ntarget     prot opt "),a("span",{attrs:{class:"token function"}},[s._v("source")]),s._v("               destination\n\nChain OUTPUT "),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("policy ACCEPT"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ntarget     prot opt "),a("span",{attrs:{class:"token function"}},[s._v("source")]),s._v("               destination\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("p",[s._v("主要有如下几个命令：")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("-L")])]),s._v(" "),a("li",[a("strong",[s._v("-A -I")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("-A")]),s._v("是在已有的规则后面添加规则")]),s._v(" "),a("li",[a("code",[s._v("-I")]),s._v("就是将规则添加到第一条")])])])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@instance-6w9riila ~"),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{attrs:{class:"token comment"}},[s._v("# iptables -A INPUT -s 10.0.0.2 -j ACCEPT")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@instance-6w9riila ~"),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{attrs:{class:"token comment"}},[s._v("# iptables -vnL")]),s._v("\nChain INPUT "),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("policy ACCEPT 77 packets, 16560 bytes"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n pkts bytes target     prot opt "),a("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v("     out     "),a("span",{attrs:{class:"token function"}},[s._v("source")]),s._v("               destination\n    0     0 ACCEPT     all  --  *      *       10.0.0.1             0.0.0.0/0\n    0     0 ACCEPT     all  --  *      *       10.0.0.2             0.0.0.0/0\n\nChain FORWARD "),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("policy ACCEPT 0 packets, 0 bytes"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n pkts bytes target     prot opt "),a("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v("     out     "),a("span",{attrs:{class:"token function"}},[s._v("source")]),s._v("               destination\n\nChain OUTPUT "),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("policy ACCEPT 57 packets, 20532 bytes"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n pkts bytes target     prot opt "),a("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v("     out     "),a("span",{attrs:{class:"token function"}},[s._v("source")]),s._v("               destination\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@instance-6w9riila ~"),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{attrs:{class:"token comment"}},[s._v("# iptables -A INPUT -s 10.0.0.2 -j DROP")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@instance-6w9riila ~"),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{attrs:{class:"token comment"}},[s._v("# iptables -vnL")]),s._v("\nChain INPUT "),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("policy ACCEPT 9 packets, 568 bytes"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n pkts bytes target     prot opt "),a("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v("     out     "),a("span",{attrs:{class:"token function"}},[s._v("source")]),s._v("               destination\n    0     0 ACCEPT     all  --  *      *       10.0.0.1             0.0.0.0/0\n    0     0 ACCEPT     all  --  *      *       10.0.0.2             0.0.0.0/0\n    0     0 DROP       all  --  *      *       10.0.0.2             0.0.0.0/0\n\nChain FORWARD "),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("policy ACCEPT 0 packets, 0 bytes"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n pkts bytes target     prot opt "),a("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v("     out     "),a("span",{attrs:{class:"token function"}},[s._v("source")]),s._v("               destination\n\nChain OUTPUT "),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("policy ACCEPT 6 packets, 536 bytes"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n pkts bytes target     prot opt "),a("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v("     out     "),a("span",{attrs:{class:"token function"}},[s._v("source")]),s._v("               destination\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@instance-6w9riila ~"),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{attrs:{class:"token comment"}},[s._v("# iptables -I INPUT -s 10.0.0.2 -j DROP")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@instance-6w9riila ~"),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{attrs:{class:"token comment"}},[s._v("# iptables -vnL")]),s._v("\nChain INPUT "),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("policy ACCEPT 8 packets, 528 bytes"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n pkts bytes target     prot opt "),a("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v("     out     "),a("span",{attrs:{class:"token function"}},[s._v("source")]),s._v("               destination\n    0     0 DROP       all  --  *      *       10.0.0.2             0.0.0.0/0\n    0     0 ACCEPT     all  --  *      *       10.0.0.1             0.0.0.0/0\n    0     0 ACCEPT     all  --  *      *       10.0.0.2             0.0.0.0/0\n    0     0 DROP       all  --  *      *       10.0.0.2             0.0.0.0/0\n\nChain FORWARD "),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("policy ACCEPT 0 packets, 0 bytes"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n pkts bytes target     prot opt "),a("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v("     out     "),a("span",{attrs:{class:"token function"}},[s._v("source")]),s._v("               destination\n\nChain OUTPUT "),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("policy ACCEPT 5 packets, 496 bytes"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n pkts bytes target     prot opt "),a("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v("     out     "),a("span",{attrs:{class:"token function"}},[s._v("source")]),s._v("               destination\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("ul",[a("li",[a("strong",[s._v("-D -F -P")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("-P")]),s._v("用来更改默认规则")]),s._v(" "),a("li",[a("code",[s._v("-F")]),s._v("用来清除规则，这个命令只能用来清除自己添加的规则，默认的规则是无法清除的。")]),s._v(" "),a("li",[a("code",[s._v("-D")]),s._v("用来删除某一个具体的规则")])])])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@instance-6w9riila ~"),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{attrs:{class:"token comment"}},[s._v("# iptables -P INPUT ACCEPT")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@instance-6w9riila ~"),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{attrs:{class:"token comment"}},[s._v("# iptables -vnL")]),s._v("\nChain INPUT "),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("policy ACCEPT 74 packets, 16507 bytes"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n pkts bytes target     prot opt "),a("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v("     out     "),a("span",{attrs:{class:"token function"}},[s._v("source")]),s._v("               destination\n    0     0 DROP       all  --  *      *       10.0.0.2             0.0.0.0/0\n    0     0 ACCEPT     all  --  *      *       10.0.0.1             0.0.0.0/0\n    0     0 ACCEPT     all  --  *      *       10.0.0.2             0.0.0.0/0\n    0     0 DROP       all  --  *      *       10.0.0.2             0.0.0.0/0\n\nChain FORWARD "),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("policy ACCEPT 0 packets, 0 bytes"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n pkts bytes target     prot opt "),a("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v("     out     "),a("span",{attrs:{class:"token function"}},[s._v("source")]),s._v("               destination\n\nChain OUTPUT "),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("policy ACCEPT 56 packets, 20835 bytes"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n pkts bytes target     prot opt "),a("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v("     out     "),a("span",{attrs:{class:"token function"}},[s._v("source")]),s._v("               destination\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@instance-6w9riila ~"),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{attrs:{class:"token comment"}},[s._v("# iptables -F")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@instance-6w9riila ~"),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{attrs:{class:"token comment"}},[s._v("# iptables -vnL")]),s._v("\nChain INPUT "),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("policy ACCEPT 37 packets, 2539 bytes"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n pkts bytes target     prot opt "),a("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v("     out     "),a("span",{attrs:{class:"token function"}},[s._v("source")]),s._v("               destination\n\nChain FORWARD "),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("policy ACCEPT 0 packets, 0 bytes"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n pkts bytes target     prot opt "),a("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v("     out     "),a("span",{attrs:{class:"token function"}},[s._v("source")]),s._v("               destination\n\nChain OUTPUT "),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("policy ACCEPT 26 packets, 1976 bytes"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n pkts bytes target     prot opt "),a("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v("     out     "),a("span",{attrs:{class:"token function"}},[s._v("source")]),s._v("               destination\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@instance-6w9riila ~"),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{attrs:{class:"token comment"}},[s._v("# iptables -t filter -A INPUT -s 10.0.0.1 -j ACCEPT")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@instance-6w9riila ~"),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{attrs:{class:"token comment"}},[s._v("# iptables -t filter -A INPUT -s 10.0.0.2 -j DROP")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@instance-6w9riila ~"),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{attrs:{class:"token comment"}},[s._v("# iptables -vnL")]),s._v("\nChain INPUT "),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("policy ACCEPT 38 packets, 2491 bytes"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n pkts bytes target     prot opt "),a("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v("     out     "),a("span",{attrs:{class:"token function"}},[s._v("source")]),s._v("               destination\n    0     0 ACCEPT     all  --  *      *       10.0.0.1             0.0.0.0/0\n    0     0 DROP       all  --  *      *       10.0.0.2             0.0.0.0/0\n\nChain FORWARD "),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("policy ACCEPT 0 packets, 0 bytes"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n pkts bytes target     prot opt "),a("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v("     out     "),a("span",{attrs:{class:"token function"}},[s._v("source")]),s._v("               destination\n\nChain OUTPUT "),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("policy ACCEPT 25 packets, 1836 bytes"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n pkts bytes target     prot opt "),a("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v("     out     "),a("span",{attrs:{class:"token function"}},[s._v("source")]),s._v("               destination\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@instance-6w9riila ~"),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{attrs:{class:"token comment"}},[s._v("# iptables -D INPUT 1")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@instance-6w9riila ~"),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{attrs:{class:"token comment"}},[s._v("# iptables -vnL")]),s._v("\nChain INPUT "),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("policy ACCEPT 34 packets, 2212 bytes"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n pkts bytes target     prot opt "),a("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v("     out     "),a("span",{attrs:{class:"token function"}},[s._v("source")]),s._v("               destination\n    0     0 DROP       all  --  *      *       10.0.0.2             0.0.0.0/0\n\nChain FORWARD "),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("policy ACCEPT 0 packets, 0 bytes"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n pkts bytes target     prot opt "),a("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v("     out     "),a("span",{attrs:{class:"token function"}},[s._v("source")]),s._v("               destination\n\nChain OUTPUT "),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("policy ACCEPT 21 packets, 1856 bytes"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n pkts bytes target     prot opt "),a("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v("     out     "),a("span",{attrs:{class:"token function"}},[s._v("source")]),s._v("               destination\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@instance-6w9riila ~"),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{attrs:{class:"token comment"}},[s._v("# iptables -D INPUT -s 10.0.0.2 -j DROP")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@instance-6w9riila ~"),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{attrs:{class:"token comment"}},[s._v("# iptables -vnL")]),s._v("\nChain INPUT "),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("policy ACCEPT 8 packets, 528 bytes"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n pkts bytes target     prot opt "),a("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v("     out     "),a("span",{attrs:{class:"token function"}},[s._v("source")]),s._v("               destination\n\nChain FORWARD "),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("policy ACCEPT 0 packets, 0 bytes"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n pkts bytes target     prot opt "),a("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v("     out     "),a("span",{attrs:{class:"token function"}},[s._v("source")]),s._v("               destination\n\nChain OUTPUT "),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("policy ACCEPT 5 packets, 496 bytes"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n pkts bytes target     prot opt "),a("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v("     out     "),a("span",{attrs:{class:"token function"}},[s._v("source")]),s._v("               destination\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("ul",[a("li",[a("strong",[s._v("-N -X -E")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("-N")]),s._v("：用于自定义规则链")]),s._v(" "),a("li",[a("code",[s._v("-X")]),s._v("：用于删除自定义规则链")])])])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("-t: 指定表名称\n-p: 指定协议\n-s：指定源ip地址\n-d: 指定目的ip地址\n-i: 指定网卡\n--dport: 指定访问的端口号\n-j: 指定动作\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("iptables -t filter -A INPUT -i eth0 -s 10.0.0.2 -p tcp --dport 80 -j ACCEPT\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"iptables的nat表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#iptables的nat表","aria-hidden":"true"}},[s._v("#")]),s._v(" iptables的nat表")]),s._v(" "),a("p",[a("code",[s._v("nat")]),s._v("表被称为网络地址转换表。")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("iptables -t nat 命令 规则链 规则\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[a("code",[s._v("PREROUTING")]),s._v(": 目的地址转换")]),s._v(" "),a("li",[a("code",[s._v("POSTROUTING")]),s._v(": 源地址转换")])]),s._v(" "),a("p",[s._v("目的地址转换")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("iptables -t nat -A PREROUTING -i eth0 -d 114.115.116.117 -p tcp --dport 80 -j DNAT --to-destination 10.0.0.1\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("源地址转换")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("iptables -t nat -A POSTROUTING -s 10.0.0.0/24 -o eth1 -j SNAT --to-source 111.112.113.114\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"iptables的配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#iptables的配置文件","aria-hidden":"true"}},[s._v("#")]),s._v(" iptables的配置文件")]),s._v(" "),a("p",[a("code",[s._v("iptables")]),s._v("的配置文件在"),a("code",[s._v("/etc/sysconfig/iptables-config")]),s._v("文件中。")]),s._v(" "),a("p",[s._v("在"),a("code",[s._v("centos 6")]),s._v("中我们可以通过服务的方式来操作"),a("code",[s._v("iptables")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token function"}},[s._v("service")]),s._v(" iptables save"),a("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v("start"),a("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v("stop"),a("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v("restart\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("在"),a("code",[s._v("centos 7")]),s._v("中需要使用"),a("code",[s._v("yum")]),s._v("进行安装")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("yum "),a("span",{attrs:{class:"token function"}},[s._v("install")]),s._v(" iptables-services\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"firewalld服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#firewalld服务","aria-hidden":"true"}},[s._v("#")]),s._v(" firewallD服务")]),s._v(" "),a("p",[a("code",[s._v("firewallD")]),s._v("服务具有如下两个特点：")]),s._v(" "),a("ul",[a("li",[s._v("支持区域“zone”的概念")]),s._v(" "),a("li",[s._v("firewall-cmd")])]),s._v(" "),a("p",[s._v("使用"),a("code",[s._v("firewall-cmd")]),s._v("命令来控制防火墙，使用"),a("code",[s._v("systemctl")]),s._v("命令来控制"),a("code",[s._v("firewallD")]),s._v("服务")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("systemctl start"),a("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v("stop"),a("span",{attrs:{class:"token operator"}},[s._v("|")]),a("span",{attrs:{class:"token function"}},[s._v("enable")]),a("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v("disable firewalld.service\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@instance-6w9riila ~"),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{attrs:{class:"token comment"}},[s._v("# systemctl status firewalld.service")]),s._v("\n● firewalld.service - firewalld - dynamic firewall daemon\n   Loaded: loaded "),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("/usr/lib/systemd/system/firewalld.service"),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" disabled"),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" vendor preset: enabled"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   Active: inactive "),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("dead"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@instance-6w9riila ~"),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{attrs:{class:"token comment"}},[s._v("# systemctl start firewalld.service")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@instance-6w9riila ~"),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{attrs:{class:"token comment"}},[s._v("# systemctl status firewalld.service")]),s._v("\n● firewalld.service - firewalld - dynamic firewall daemon\n   Loaded: loaded "),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("/usr/lib/systemd/system/firewalld.service"),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" disabled"),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" vendor preset: enabled"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   Active: active "),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("running"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" since 一 2020-02-03 22:51:10 CST"),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" 3s ago\n Main PID: 12511 "),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("firewalld"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   CGroup: /system.slice/firewalld.service\n           └─12511 /usr/bin/python -Es /usr/sbin/firewalld --nofork --nopid\n\n2月 03 22:51:09 instance-6w9riila systemd"),a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("1"),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": Starting firewalld - dynamic firewall daemon"),a("span",{attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n2月 03 22:51:10 instance-6w9riila systemd"),a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("1"),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": Started firewalld - dynamic firewall daemon.\n"),a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@instance-6w9riila ~"),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{attrs:{class:"token comment"}},[s._v("#s")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@instance-6w9riila ~"),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{attrs:{class:"token comment"}},[s._v("# firewall-cmd --state")]),s._v("\nrunning\n"),a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@instance-6w9riila ~"),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{attrs:{class:"token comment"}},[s._v("# firewall-cmd --list-all")]),s._v("\npublic "),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("default, active"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  interfaces: eth0\n  sources:\n  services: dhcpv6-client "),a("span",{attrs:{class:"token function"}},[s._v("ssh")]),s._v("\n  ports:\n  masquerade: no\n  forward-ports:\n  icmp-blocks:\n  rich rules:\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@instance-6w9riila ~"),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{attrs:{class:"token comment"}},[s._v("# firewall-cmd --zone=public --list-interfaces")]),s._v("\neth0\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@instance-6w9riila ~"),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{attrs:{class:"token comment"}},[s._v("# firewall-cmd --list-services")]),s._v("\ndhcpv6-client "),a("span",{attrs:{class:"token function"}},[s._v("ssh")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@instance-6w9riila ~"),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{attrs:{class:"token comment"}},[s._v("# firewall-cmd --get-zones")]),s._v("\nblock dmz drop external home internal public trusted work\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@instance-6w9riila ~"),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{attrs:{class:"token comment"}},[s._v("# firewall-cmd --get-default-zone")]),s._v("\npublic\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@instance-6w9riila ~"),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{attrs:{class:"token comment"}},[s._v("# firewall-cmd --get-active-zone")]),s._v("\npublic\n  interfaces: eth0\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("firewall-cmd --add-service"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("https\nfirewall-cmd --add-port"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("81/tcp\nfirewall-cmd --list-services\nfirewall-cmd --list-all\nfirewall-cmd --add-port"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("82/tcp --permanent\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("firewall-cmd --remove-service"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("https\nfirewall-cmd --remove-port"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("81/tcp\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])])}],!1,null,null,null);e.options.__file="41-防火墙.md";t.default=e.exports}}]);