(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{176:function(e,t,s){"use strict";s.r(t);var r=s(0),a=Object(r.a)({},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content"},[s("h1",[e._v("Debug Curl Requests (TLDR: Use -v or --trace arguments)")]),e._v(" "),s("blockquote",[s("p",[s("a",{attrs:{href:"https://catonmat.net/cookbooks/curl/debug-curl-requests",target:"_blank",rel:"noopener noreferrer"}},[e._v("原文地址"),s("OutboundLink")],1)])]),e._v(" "),s("p"),e._m(0),s("p"),e._v(" "),e._m(1),e._v(" "),e._m(2),e._v(" "),e._m(3),e._m(4),e._v(" "),e._m(5),e._v(" "),e._m(6),e._m(7),e._v(" "),e._m(8),e._v(" "),e._m(9),e._m(10),e._v(" "),e._m(11),e._v(" "),e._m(12),e._m(13),e._v(" "),e._m(14),e._v(" "),e._m(15),e._m(16),e._v(" "),e._m(17),e._v(" "),e._m(18),e._m(19),e._v(" "),e._m(20),e._v(" "),e._m(21),e._m(22)])},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"table-of-contents"},[t("ul",[t("li",[t("a",{attrs:{href:"#make-curl-verbose"}},[this._v("Make Curl Verbose")])]),t("li",[t("a",{attrs:{href:"#detailed-trace"}},[this._v("Detailed Trace")])]),t("li",[t("a",{attrs:{href:"#detailed-trace-with-timestamps"}},[this._v("Detailed Trace with Timestamps")])]),t("li",[t("a",{attrs:{href:"#include-response-headers-in-the-output"}},[this._v("Include Response Headers in the Output")])]),t("li",[t("a",{attrs:{href:"#print-only-the-response-headers"}},[this._v("Print Only the Response Headers")])]),t("li",[t("a",{attrs:{href:"#print-only-the-request-headers"}},[this._v("Print Only the Request Headers")])]),t("li",[t("a",{attrs:{href:"#print-only-the-response-code"}},[this._v("Print Only the Response Code")])])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",[e._v("下面的这些例子演示了怎么调试"),s("code",[e._v("curl")]),e._v("请求来查看发送和接收的数据。默认情况下，"),s("code",[e._v("curl")]),e._v("只打印出响应体。为了打印出全部的响应信息，包括请求头，"),s("code",[e._v("SSL")]),e._v("证书协商，响应头，以及响应体。可以使用"),s("code",[e._v("-v")]),e._v("选项。如果想显示以十六进制的格式来显示数据，可以使用"),s("code",[e._v("--trace")]),e._v("选项。如果只想打印出响应头和响应体，可以使用"),s("code",[e._v("-i")]),e._v("选项。")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"make-curl-verbose"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#make-curl-verbose","aria-hidden":"true"}},[this._v("#")]),this._v(" Make Curl Verbose")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{attrs:{class:"token function"}},[this._v("curl")]),this._v(" -v https://www.baidu.com\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",[e._v("这个例子中使用"),s("code",[e._v("-v")]),e._v("选项打印出"),s("code",[e._v("curl")]),e._v("请求和响应的详细信息。以"),s("code",[e._v(">")]),e._v("开头的数据是发送给服务器的，以"),s("code",[e._v("<")]),e._v("开头的数据是从服务器接收到的，以"),s("code",[e._v("*")]),e._v("开头的数据表示的是其他信息，比如连接相关的信息，"),s("code",[e._v("SSL")]),e._v("的握手信息，以及协议相关的信息。")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"detailed-trace"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#detailed-trace","aria-hidden":"true"}},[this._v("#")]),this._v(" Detailed Trace")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{attrs:{class:"token function"}},[this._v("curl")]),this._v(" --trace - https://www.baidu.com\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("这个例子使用了"),t("code",[this._v("--trace -")]),this._v("选项，它能够将请求和接收的数据全打印出来。"),t("code",[this._v("trace")]),this._v("也会以十六进制的格式打印出所有的请求和接收到的字节数据。")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"detailed-trace-with-timestamps"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#detailed-trace-with-timestamps","aria-hidden":"true"}},[this._v("#")]),this._v(" Detailed Trace with Timestamps")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{attrs:{class:"token function"}},[this._v("curl")]),this._v(" --trace - --trace-time https://www.baidu.com \n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("如果在请求中使用了"),t("code",[this._v("--trace-time")]),this._v("选项，会将发送和接收到的数据的时间也打印出来。")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"include-response-headers-in-the-output"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#include-response-headers-in-the-output","aria-hidden":"true"}},[this._v("#")]),this._v(" Include Response Headers in the Output")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{attrs:{class:"token function"}},[this._v("curl")]),this._v(" -i https://www.baidu.com \n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("默认情况下，"),t("code",[this._v("curl")]),this._v("只会在屏幕上打印出响应体。这个例子中使用了"),t("code",[this._v("-i")]),this._v("选项，它能够在屏幕上打印出响应头。如果设置了这个选项，"),t("code",[this._v("curl")]),this._v("会先打印出响应头，然后是一个空行，其次是响应体信息。")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"print-only-the-response-headers"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#print-only-the-response-headers","aria-hidden":"true"}},[this._v("#")]),this._v(" Print Only the Response Headers")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{attrs:{class:"token function"}},[this._v("curl")]),this._v(" -s -o /dev/null -D - https://www.baidu.com\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",[e._v("出于某些原因，你可能只想打印出响应的头部信息。这种在"),s("code",[e._v("curl")]),e._v("发起的请求中也是可能实现的。在这个例子中，"),s("code",[e._v("-s")]),e._v("选项表明这个请求是一个静默请求(隐藏进度和错误信息)。第二部分"),s("code",[e._v("-o /dev/null")]),e._v("表示丢弃响应体。第三部分"),s("code",[e._v("-D -")]),e._v("表示将头部信息转存到一个文件中，这个例子中的文件是"),s("code",[e._v("-")]),e._v("，代表标准输出。通过连接上面几个选项，"),s("code",[e._v("curl")]),e._v("就能实现只打印出响应的头部信息。")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"print-only-the-request-headers"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#print-only-the-request-headers","aria-hidden":"true"}},[this._v("#")]),this._v(" Print Only the Request Headers")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{attrs:{class:"token function"}},[e._v("curl")]),e._v(" -v -s -o /dev/null --stderr - https://www.baidu.com "),s("span",{attrs:{class:"token operator"}},[e._v("|")]),e._v(" "),s("span",{attrs:{class:"token function"}},[e._v("grep")]),e._v(" "),s("span",{attrs:{class:"token string"}},[e._v("'^>'")]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",[e._v("只打印"),s("code",[e._v("curl")]),e._v("请求的请求头部信息不是一件容易的事情。这个例子中使用"),s("code",[e._v("-v")]),e._v("选项打印出"),s("code",[e._v("curl")]),e._v("请求和响应的详细信息，使用"),s("code",[e._v("-s")]),e._v("选项使"),s("code",[e._v("curl")]),e._v("静默请求，使用"),s("code",[e._v("-o /dev/null")]),e._v("禁止将输出打印到屏幕上，使用"),s("code",[e._v("--stderr -")]),e._v("将标准错误输出重定向到标准输出，最后使用"),s("code",[e._v("grep")]),e._v("过滤出请求头部信息。")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"print-only-the-response-code"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#print-only-the-response-code","aria-hidden":"true"}},[this._v("#")]),this._v(" Print Only the Response Code")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{attrs:{class:"token function"}},[this._v("curl")]),this._v(" -w "),t("span",{attrs:{class:"token string"}},[this._v("'%{response_code}'")]),this._v(" -s -o /dev/null https://www.baidu.com\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",[e._v("这个例子中使用"),s("code",[e._v("-w")]),e._v("选项让"),s("code",[e._v("curl")]),e._v("在请求完成后打印出其它额外的信息。这里的额外信息我们使用"),s("code",[e._v("%{response_code}")]),e._v("，表示响应的状态码信息。为了让"),s("code",[e._v("curl")]),e._v("只打印出状态码而不打印出其它信息，我们又指定了"),s("code",[e._v("-s")]),e._v("和"),s("code",[e._v("-o /dev/null")]),e._v("选项。")])}],!1,null,null,null);a.options.__file="debug-curl-requests.md";t.default=a.exports}}]);