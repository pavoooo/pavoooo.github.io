(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{175:function(s,t,n){"use strict";n.r(t);var a=n(0),e=Object(a.a)({},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"content"},[n("h1",[s._v("travis自动化部署github项目到server")]),s._v(" "),s._m(0),s._v(" "),s._m(1),s._m(2),s._v(" "),s._m(3),s._v(" "),s._m(4),s._v(" "),s._m(5),s._v(" "),s._m(6),s._v(" "),s._m(7),s._m(8),s._v(" "),s._m(9),s._v(" "),s._m(10),s._m(11),s._v(" "),s._m(12),s._m(13),s._v(" "),s._m(14),s._v(" "),s._m(15),s._v(" "),n("p",[s._v("使用自己的"),n("code",[s._v("github")]),s._v("用户登录"),n("a",{attrs:{href:"https://travis-ci.org/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://travis-ci.org/"),n("OutboundLink")],1),s._v("，登录成功后，"),n("code",[s._v("travis")]),s._v("会自动帮我们同步所有的"),n("code",[s._v("github")]),s._v("工程。找到需要"),n("code",[s._v("travis")]),s._v("进行构建的项目，打开后面的开关。")]),s._v(" "),s._m(16),s._v(" "),s._m(17),s._v(" "),s._m(18),s._v(" "),s._m(19),n("p",[s._v("然后添加如下内容")]),s._v(" "),s._m(20),s._m(21),s._v(" "),s._m(22),s._v(" "),s._m(23),s._v(" "),s._m(24),s._v(" "),s._m(25),s._v(" "),s._m(26),s._v(" "),s._m(27),s._v(" "),s._m(28),s._v(" "),s._m(29),s._v(" "),n("p",[s._v("所以，公钥和私钥的生成我们完全可以在自己的服务器上进行操作。首先，登录到自己的服务器")]),s._v(" "),s._m(30),s._m(31),s._v(" "),s._m(32),s._m(33),s._v(" "),s._m(34),n("p",[s._v("下面开始进行密钥对的生成")]),s._v(" "),s._m(35),s._m(36),s._v(" "),s._m(37),s._m(38),s._v(" "),s._m(39),s._m(40),s._v(" "),s._m(41),n("p",[s._v("到此，密钥对已经生成完成。下面，我们就需要测试一下免密登录的操作是否能成功。")]),s._v(" "),s._m(42),s._m(43),s._v(" "),s._m(44),s._m(45),s._v(" "),s._m(46),s._m(47),s._v(" "),s._m(48),s._m(49),s._v(" "),s._m(50),s._m(51),s._v(" "),s._m(52),s._v(" "),s._m(53),s._v(" "),s._m(54),s._v(" "),s._m(55),s._v(" "),s._m(56),n("p",[s._v("安装的过程中可能因为签名的问题而失败，我们只需要按照它的提示运行响应的命令即可")]),s._v(" "),s._m(57),s._m(58),s._v(" "),s._m(59),s._m(60),s._v(" "),s._m(61),s._m(62),s._v(" "),s._m(63),s._m(64),s._v(" "),s._m(65),s._m(66),s._v(" "),s._m(67),n("p",[s._v("接着对上面生成的私钥进行加密")]),s._v(" "),s._m(68),s._m(69),s._v(" "),s._m(70),s._m(71),s._v(" "),s._m(72),s._v(" "),s._m(73),s._v(" "),s._m(74),s._m(75),s._v(" "),s._m(76),s._m(77),s._v(" "),s._m(78),s._v(" "),s._m(79),s._v(" "),s._m(80),n("p",[s._v("有两个注意事项：")]),s._v(" "),n("ul",[n("li",[s._v("ssh_known_hosts需要换成你自己的ip")]),s._v(" "),n("li",[s._v("ssg命令需要加上"),n("strong",[s._v("StrictHostKeyChecking=no")]),s._v("选项，具体的可以查看"),n("a",{attrs:{href:"http://www.worldhello.net/2010/04/08/1026.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("禁用ssh远程主机的公钥检查"),n("OutboundLink")],1)])]),s._v(" "),s._m(81),s._v(" "),s._m(82),s._v(" "),s._m(83),s._m(84),s._v(" "),s._m(85),s._v(" "),s._m(86),s._v(" "),s._m(87),s._v(" "),s._m(88),s._m(89),s._v(" "),n("p",[s._v("在"),n("code",[s._v("travis")]),s._v("持续集成服务技术后，我们可以通过"),n("code",[s._v("Nginx")]),s._v("来提供对我们的项目的访问，关于"),n("code",[s._v("Nginx")]),s._v("的安装可以查看"),n("a",{attrs:{href:"https://zhaosaisai.com/blog/2019/Nginx%E5%AD%A6%E4%B9%A0-%E5%AE%89%E8%A3%85_%E5%9F%BA%E6%9C%AC%E6%A8%A1%E5%9D%97_%E8%AF%B7%E6%B1%82%E9%99%90%E5%88%B6_%E8%AE%BF%E9%97%AE%E9%99%90%E5%88%B6.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Nginx学习-安装_基本模块_请求限制_访问限制\n"),n("OutboundLink")],1),s._v("。")]),s._v(" "),s._m(90),s._v(" "),s._m(91),s._m(92)])},[function(){var s=this.$createElement,t=this._self._c||s;return t("p",[t("code",[this._v("travis")]),this._v("是目前市场上比较流行的进行持续集成服务的工具之一。所谓的持续集成就是说只要代码有变更，它就能够自动的进行构建，测试，发布等一系列的流程。"),t("code",[this._v("travis")]),this._v("能够和我们"),t("code",[this._v("github")]),this._v("上的项目进行绑定，一旦我们项目对应分支上的内容发生变化，它就能自动的进行持续集成服务，把变更同步到远程服务器上。这就使下面的开发流程成为了可能")])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("本地项目开发 --"),n("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n推送变更到github --"),n("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\ntravis监测到内容变化 --"),n("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n自动拉取最新代码 --"),n("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n基于最新代码进行构建，测试 --"),n("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n所有流程成功后，同步到我们自己的远程服务器 --"),n("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("\n触发远程服务器上的构建和部署等工作\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("上面的流程中只有前两步需要我们手工操作，后面的一系列流程都是通过持续集成服务自动完成，这可以让我们只关注于业务开发即可。这篇文章的目的就是从零构建一个项目，通过持续集成服务自动部署到服务器，最后，利用"),t("code",[this._v("Nginx")]),this._v("实现项目的可访问。")])},function(){var s=this.$createElement,t=this._self._c||s;return t("h2",{attrs:{id:"环境准备"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#环境准备","aria-hidden":"true"}},[this._v("#")]),this._v(" 环境准备")])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ul",[n("li",[n("code",[s._v("github")]),s._v("一个权限是"),n("code",[s._v("public")]),s._v("的项目("),n("code",[s._v("travis")]),s._v("对"),n("code",[s._v("private")]),s._v("的项目收费)")]),s._v(" "),n("li",[s._v("云服务器("),n("code",[s._v("travis")]),s._v("可连接)")]),s._v(" "),n("li",[s._v("终端连接工具(我用的是"),n("code",[s._v("iTerm")]),s._v(")")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h2",{attrs:{id:"创建项目"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建项目","aria-hidden":"true"}},[this._v("#")]),this._v(" 创建项目")])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("首先在"),t("code",[this._v("github")]),this._v("上创建一个"),t("code",[this._v("public")]),this._v("项目，创建的过程这里就不再详述，创建成功后，克隆到本地。")])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{attrs:{class:"token function"}},[this._v("git")]),this._v(" clone https://github.com/zhaosaisai/publish-system.git\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("blockquote",[t("p",[this._v("后面我会以自己的项目"),t("code",[this._v("publish-system")]),this._v("来演示整个过程，实际操作的时候，需要换成自己的项目。")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("然后，进入到项目中。为了能够演示完整的流程，这里我就先把项目初始化一个"),t("code",[this._v("vue")]),this._v("工程")])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{attrs:{class:"token function"}},[this._v("cd")]),this._v(" publish-system\nvue init webpack-simple "),t("span",{attrs:{class:"token keyword"}},[this._v(".")]),this._v("\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br"),t("span",{staticClass:"line-number"},[this._v("2")]),t("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("把变更推送到远程"),t("code",[this._v("master")]),this._v("分支")])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token function"}},[s._v("git")]),s._v(" add "),n("span",{attrs:{class:"token keyword"}},[s._v(".")]),s._v("\n"),n("span",{attrs:{class:"token function"}},[s._v("git")]),s._v(" commit -m "),n("span",{attrs:{class:"token string"}},[s._v('"Init project"')]),s._v("\n"),n("span",{attrs:{class:"token function"}},[s._v("git")]),s._v(" push origin master\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("blockquote",[n("p",[s._v("实际开发中我们一般会有一些开发分支，这些分支稳定后会合并到"),n("code",[s._v("master")]),s._v("上。这里主要是因为后面"),n("code",[s._v("travis")]),s._v("监听的就是"),n("code",[s._v("master")]),s._v("分支的变化，为了方便，我这里就直接在"),n("code",[s._v("master")]),s._v("分支上进行操作了。")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("项目初始化好以后，接下来需要做的工作就是将我们的"),t("code",[this._v("github")]),this._v("工程和"),t("code",[this._v("travis")]),this._v("关联起来")])},function(){var s=this.$createElement,t=this._self._c||s;return t("h2",{attrs:{id:"绑定travis"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#绑定travis","aria-hidden":"true"}},[this._v("#")]),this._v(" 绑定"),t("code",[this._v("travis")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[t("img",{attrs:{src:"/blog/travis4.png",alt:""}})])},function(){var s=this.$createElement,t=this._self._c||s;return t("h3",{attrs:{id:"添加-travis-yml"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#添加-travis-yml","aria-hidden":"true"}},[this._v("#")]),this._v(" 添加.travis.yml")])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("p",[s._v("上面的开关打开后，"),n("code",[s._v("travis")]),s._v("就会监听这个仓库的所有的变化。但是"),n("code",[s._v("travis")]),s._v("并不知道在仓库发生变化后需要做什么，这里就要求我们需要在对应项目的根目录下面创建一个"),n("code",[s._v(".travis.yml")]),s._v("文件。这是"),n("code",[s._v("travis")]),s._v("的配置文件，里面描述了"),n("code",[s._v("travis")]),s._v("需要做的各种行为，这个文件必须放在项目的根目录下面，一旦项目发生变化，"),n("code",[s._v("travis")]),s._v("就会根据这个文件的配置去做各种操作。所以，在这里我们需要在项目的根目录下面添加一个"),n("code",[s._v(".travis.yml")]),s._v("文件。")])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{attrs:{class:"token function"}},[this._v("touch")]),this._v(" .travis.yml\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"language-yml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('language: node_js\nnode_js:\n- 8\nbranches:\n  only:\n  - master\nscript:\n- echo "build"\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("p",[s._v("这个文件告诉"),n("code",[s._v("travis")]),s._v("这个项目是一个"),n("code",[s._v("noed.js")]),s._v("的项目，使用的"),n("code",[s._v("node.js")]),s._v("的版本是"),n("code",[s._v("@8")]),s._v("，只有当"),n("code",[s._v("master")]),s._v("分支发生变化的时候才会去执行构建任务，这里只是简单的运行了一条命令"),n("code",[s._v('echo "build"')]),s._v("。")])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("p",[s._v("将内容的变更推送到远程仓库的"),n("code",[s._v("master")]),s._v("分支上，这时你就能发现"),n("code",[s._v("travis")]),s._v("开始根据"),n("code",[s._v(".travis.yml")]),s._v("中的配置进行持续集成的工作了。构建结束后，就能在网页中的终端控制台中看到"),n("code",[s._v("script")]),s._v("的执行结果了")])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[t("img",{attrs:{src:"/blog/travis5.png",alt:""}})])},function(){var s=this.$createElement,t=this._self._c||s;return t("h2",{attrs:{id:"ssh免密登录远程服务器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ssh免密登录远程服务器","aria-hidden":"true"}},[this._v("#")]),this._v(" ssh免密登录远程服务器")])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("p",[s._v("之前的步骤没有什么难以理解的地方，到此，我们能够实现项目变更后"),n("code",[s._v("travis")]),s._v("能够自动进行一些持续集成的任务了。但我们所希望的是在持续集成结束后"),n("code",[s._v("travis")]),s._v("能够自动将更新同步到我们的远程服务器或者通知我们的服务器进行更新同步。这种操作首先需要解决的就是"),n("code",[s._v("travis")]),s._v("能够连接我们的远程服务器。但"),n("code",[s._v("travis")]),s._v("不像我们本地的交互式终端，输入用户名和密码后就能登录到服务器。另一方面，这一操作也不能完全自动化的去完成。所以，我们只能利用其它的方式让"),n("code",[s._v("travis")]),s._v("能够自动登录到我们的服务器。这种方式就是我们即将提到的"),n("strong",[s._v("ssh免密登录")]),s._v("。")])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[t("strong",[this._v("ssh免密登录")]),this._v("利用的是"),t("strong",[this._v("非对称加密")]),this._v("的方式。基本步骤就是")])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ul",[n("li",[s._v("在客户端生成"),n("code",[s._v("公钥")]),s._v("和"),n("code",[s._v("私钥")])]),s._v(" "),n("li",[s._v("然后将"),n("code",[s._v("私钥")]),s._v("保存在客户端的"),n("code",[s._v("~/.ssh/id_rsa")]),s._v("中，将"),n("code",[s._v("公钥")]),s._v("保存在服务器的"),n("code",[s._v("~/.ssh/authorized_keys")]),s._v("文件中")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("更改文件的权限后，我们就能直接通过"),t("code",[this._v("ssh")]),this._v("免密登录我们的服务器。但是我们是无法操作"),t("code",[this._v("travis")]),this._v("的客户端的，但是如果我们了解"),t("code",[this._v("ssh")]),this._v("免密登录的原理后，你会发现公钥和私钥在什么地方生成都行，最重要的是两个要成对。")])},function(){var s=this.$createElement,t=this._self._c||s;return t("blockquote",[t("p",[this._v("ssh免密登录的大致过程就是：客户端向服务器发起登录请求，服务器向客户端返回一段随机字符串，客户端收到这段字符串后使用自己的私钥进行加密，然后发给服务器。服务器接收后使用自己保存的公钥解密，如果解密后的数据相等就登录成功，否则断开连接。")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{attrs:{class:"token function"}},[this._v("ssh")]),this._v(" root@118.24.204.202\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("生成密钥对之前，我们先创建一个"),t("code",[this._v("travis")]),this._v("连接的用户")])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token comment"}},[s._v("# 添加publish用户")]),s._v("\n"),n("span",{attrs:{class:"token function"}},[s._v("useradd")]),s._v(" publish\n"),n("span",{attrs:{class:"token comment"}},[s._v("# 添加密码")]),s._v("\n"),n("span",{attrs:{class:"token function"}},[s._v("passwd")]),s._v(" publish\n"),n("span",{attrs:{class:"token comment"}},[s._v("# 添加sudoer权限")]),s._v("\nvim /etc/sudoers\n\n"),n("span",{attrs:{class:"token comment"}},[s._v("# 加入 ")]),s._v("\n"),n("span",{attrs:{class:"token comment"}},[s._v("# publish  ALL=(ALL)   ALL")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("接着，切换到"),t("code",[this._v("publish")]),this._v("用户")])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{attrs:{class:"token function"}},[this._v("su")]),this._v(" publish\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("publish@VM_0_12_centos ~"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ ssh-keygen -t rsa\n\nGenerating public/private rsa key pair.\nEnter "),n("span",{attrs:{class:"token function"}},[s._v("file")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),n("span",{attrs:{class:"token function"}},[s._v("which")]),s._v(" to save the key "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("/home/publish/.ssh/id_rsa"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":\nCreated directory "),n("span",{attrs:{class:"token string"}},[s._v("'/home/publish/.ssh'")]),n("span",{attrs:{class:"token keyword"}},[s._v(".")]),s._v("\nEnter passphrase "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("empty "),n("span",{attrs:{class:"token keyword"}},[s._v("for")]),s._v(" no passphrase"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":\nEnter same passphrase again:\nYour identification has been saved "),n("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v(" /home/publish/.ssh/id_rsa.\nYour public key has been saved "),n("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v(" /home/publish/.ssh/id_rsa.pub.\nThe key fingerprint is:\nb6:c5:e8:4a:6a:e8:63:e9:79:47:c6:77:a2:24:be:3f publish@VM_0_12_centos\nThe key's randomart image is:\n+--"),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" RSA 2048"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("----+\n"),n("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v("                 "),n("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),n("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v("                 "),n("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),n("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v("                 "),n("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),n("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v("         o       "),n("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),n("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v("     "),n("span",{attrs:{class:"token keyword"}},[s._v(".")]),s._v("  S o      "),n("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),n("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v("    "),n("span",{attrs:{class:"token keyword"}},[s._v(".")]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("ooo.      "),n("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),n("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v("   + "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(".ooo       "),n("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),n("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(".+oE.         "),n("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),n("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" +++o+o.         "),n("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v("\n+-----------------+\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"danger custom-block"},[t("p",{staticClass:"custom-block-title"},[this._v("WARNING")]),this._v(" "),t("p",[this._v("Enter passphrase 这一步直接设置为空")])])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token comment"}},[s._v("# 然后就会发现加目录下面的.ssh目录中多了两个文件")]),s._v("\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("publish@VM_0_12_centos ~"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ ll ~/.ssh/\n总用量 8\n-rw------- 1 publish publish 1679 3月   3 10:04 id_rsa\n-rw-r--r-- 1 publish publish  404 3月   3 10:04 id_rsa.pub\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("publish@VM_0_12_centos ~"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{attrs:{class:"token function"}},[s._v("ls")]),s._v(" -al\n总用量 28\ndrwx------  3 publish publish 4096 3月   3 10:04 "),n("span",{attrs:{class:"token keyword"}},[s._v(".")]),s._v("\ndrwxr-xr-x. 3 root    root    4096 2月  27 21:27 "),n("span",{attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n-rw-------  1 publish publish  500 3月   3 10:05 .bash_history\n-rw-r--r--  1 publish publish   18 8月   3 2016 .bash_logout\n-rw-r--r--  1 publish publish  193 8月   3 2016 .bash_profile\n-rw-r--r--  1 publish publish  231 8月   3 2016 .bashrc\ndrwx------  2 publish publish 4096 3月   3 10:04 .ssh\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("p",[s._v("密钥生成后，我们需要更改"),n("code",[s._v(".ssh")]),s._v("和"),n("code",[s._v(".ssh/*")]),s._v("的权限。一般设置"),n("code",[s._v(".ssh")]),s._v("的权限是"),n("code",[s._v("700")]),s._v("(可能默认就是)，"),n("code",[s._v(".ssh/*")]),s._v("的权限是"),n("code",[s._v("600")]),s._v("。")])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("publish@VM_0_12_centos ~"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{attrs:{class:"token function"}},[s._v("chmod")]),s._v(" 600 ~/.ssh/*\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("publish@VM_0_12_centos ~"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ ll ~/.ssh/\n总用量 8\n-rw------- 1 publish publish 1679 3月   3 10:04 id_rsa\n-rw------- 1 publish publish  404 3月   3 10:04 id_rsa.pub\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("然后将生成的公钥("),t("code",[this._v("id_rsa.pub")]),this._v(")中的内容添加到"),t("code",[this._v(".ssh/authorized_keys")]),this._v("中")])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("publish@VM_0_12_centos ~"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{attrs:{class:"token function"}},[s._v("touch")]),s._v(" ~/.ssh/authorized_keys\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("publish@VM_0_12_centos ~"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{attrs:{class:"token function"}},[s._v("cat")]),s._v(" ~/.ssh/id_rsa.pub "),n("span",{attrs:{class:"token operator"}},[s._v(">>")]),s._v("  ~/.ssh/authorized_keys\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("publish@VM_0_12_centos ~"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{attrs:{class:"token function"}},[s._v("cat")]),s._v("  ~/.ssh/authorized_keys\nssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCt28duvuem+0YweqQA4gzOhEJEv7uPgl6btH"),n("span",{attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("publish@VM_0_12_centos .ssh"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{attrs:{class:"token function"}},[s._v("touch")]),s._v(" config\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("然后在"),t("code",[this._v("config")]),this._v("中添加如下内容")])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("Host "),n("span",{attrs:{class:"token function"}},[s._v("test")]),s._v("\n"),n("span",{attrs:{class:"token comment"}},[s._v("# 你需要登录的主机ip")]),s._v("\nHostName 118.24.204.202\n"),n("span",{attrs:{class:"token comment"}},[s._v("# 你需要登录的用户名")]),s._v("\nUser publish\n\nIdentitiesOnly "),n("span",{attrs:{class:"token function"}},[s._v("yes")]),s._v("\n\nIdentityFile ~/.ssh/id_rsa\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("blockquote",[t("p",[this._v("HostName需要换成自己的")])])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("publish@VM_0_12_centos .ssh"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ ll\n总用量 12\n-rw-rw-r-- 1 publish publish  404 3月   3 10:09 authorized_keys\n-rw-rw-r-- 1 publish publish    0 3月   3 10:11 config\n-rw------- 1 publish publish 1679 3月   3 10:04 id_rsa\n-rw------- 1 publish publish  404 3月   3 10:04 id_rsa.pub\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("publish@VM_0_12_centos .ssh"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{attrs:{class:"token function"}},[s._v("ssh")]),s._v(" "),n("span",{attrs:{class:"token function"}},[s._v("test")]),s._v("\nBad owner or permissions on /home/publish/.ssh/config\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("p",[s._v("运行"),n("code",[s._v("ssh test")]),s._v("后报错"),n("code",[s._v("Bad owner or permissions on /home/publish/.ssh/config")]),s._v("。这里同样要求我们要把"),n("code",[s._v(".ssh/config")]),s._v("和"),n("code",[s._v(".ssh/authorized_keys")]),s._v("权限设置为"),n("code",[s._v("600")]),s._v("。")])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("publish@VM_0_12_centos .ssh"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{attrs:{class:"token function"}},[s._v("chmod")]),s._v(" 600 config\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("publish@VM_0_12_centos .ssh"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{attrs:{class:"token function"}},[s._v("chmod")]),s._v(" 600 authorized_keys\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("publish@VM_0_12_centos .ssh"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ ll\n总用量 12\n-rw------- 1 publish publish  404 3月   3 10:09 authorized_keys\n-rw------- 1 publish publish    0 3月   3 10:11 config\n-rw------- 1 publish publish 1679 3月   3 10:04 id_rsa\n-rw------- 1 publish publish  404 3月   3 10:04 id_rsa.pub\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("然后执行"),t("code",[this._v("ssh test")])])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("publish@VM_0_12_centos .ssh"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{attrs:{class:"token function"}},[s._v("ssh")]),s._v(" "),n("span",{attrs:{class:"token function"}},[s._v("test")]),s._v("\nThe authenticity of host "),n("span",{attrs:{class:"token string"}},[s._v("'118.24.204.202 (118.24.204.202)'")]),s._v(" can"),n("span",{attrs:{class:"token string"}},[s._v("'t be established.\nECDSA key fingerprint is a3:d8:b0:f6:cb:6f:c0:f6:9a:4e:e5:6c:69:35:d6:fd.\nAre you sure you want to continue connecting (yes/no)? yes\nWarning: Permanently added '")]),s._v("118.24.204.202' "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ECDSA"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" to the list of known hosts.\nLast login: Sun Mar  3 10:00:35 2019 from 115.193.184.147\n\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("publish@VM_0_12_centos ~"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{attrs:{class:"token function"}},[s._v("ls")]),s._v(" .ssh/\nauthorized_keys  config  id_rsa  id_rsa.pub  known_hosts\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("出现上面输出就表示我们的免密登录配置成功，同时在"),t("code",[this._v(".ssh/")]),this._v("下多了一个"),t("code",[this._v("known_hosts")]),this._v("文件。")])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("p",[s._v("下面我们就需要将上面的密钥对中的私钥放在"),n("code",[s._v("travis")]),s._v("上，但是我们是无法直接操作"),n("code",[s._v("travis")]),s._v("服务器的，因此我们也就不能将私钥放在"),n("code",[s._v("travis")]),s._v("服务器上。但是，我们可以将私钥放在"),n("code",[s._v("travis")]),s._v("服务器能够读取的地方，因为"),n("code",[s._v("travis")]),s._v("是能够直接读取我们项目的工程的，所以，我们可以将私钥放在我们的项目中，"),n("code",[s._v("travis")]),s._v("提供了对私钥进行加密的功能，我们可以将私钥加密之后放在我们的工程中，当"),n("code",[s._v("travis")]),s._v("需要连接我们的服务器时，就解密这个私钥用于连接。")])},function(){var s=this.$createElement,t=this._self._c||s;return t("h2",{attrs:{id:"安装travis客户端"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装travis客户端","aria-hidden":"true"}},[this._v("#")]),this._v(" 安装travis客户端")])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("p",[n("code",[s._v("travis")]),s._v("是通过"),n("code",[s._v("gem")]),s._v("进行安装的，"),n("code",[s._v("gem")]),s._v("是"),n("code",[s._v("ruby")]),s._v("的管理工具。所以我们需要先安装"),n("code",[s._v("ruby")]),s._v("，安装"),n("code",[s._v("ruby")]),s._v("我们可以使用"),n("code",[s._v("ruby")]),s._v("的版本控制工具"),n("code",[s._v("rvm")]),s._v("，它就相当于我们"),n("code",[s._v("Node")]),s._v("界中的"),n("code",[s._v("nvm")]),s._v("。")])},function(){var s=this.$createElement,t=this._self._c||s;return t("h3",{attrs:{id:"安装rvm"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装rvm","aria-hidden":"true"}},[this._v("#")]),this._v(" 安装rvm")])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("publish@VM_0_12_centos ~"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{attrs:{class:"token function"}},[s._v("curl")]),s._v(" -sSL https://get.rvm.io "),n("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{attrs:{class:"token function"}},[s._v("bash")]),s._v(" -s stable\nDownloading https://github.com/rvm/rvm/archive/1.29.7.tar.gz\nDownloading https://github.com/rvm/rvm/releases/download/1.29.7/1.29.7.tar.gz.asc\ngpg: 已创建目录‘/home/publish/.gnupg’\ngpg: 新的配置文件‘/home/publish/.gnupg/gpg.conf’已建立\ngpg: 警告：在‘/home/publish/.gnupg/gpg.conf’里的选项于此次运行期间未被使用\ngpg: 钥匙环‘/home/publish/.gnupg/pubring.gpg’已建立\ngpg: 于 2019年01月04日 星期五 06时01分48秒 CST 创建的签名，使用 RSA，钥匙号 39499BDB\ngpg: 无法检查签名：没有公钥\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("publish@VM_0_12_centos ~"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ gpg2 --keyserver hkp://pool.sks-keyservers.net --recv-keys 409B6B1796C275462A1703113804BB82D39DC0E3 7D2BAF1CF37B13E2069D6956105BD0E739499BDB\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("publish@VM_0_12_centos ~"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{attrs:{class:"token function"}},[s._v("source")]),s._v(" /home/publish/.rvm/scripts/rvm\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("publish@VM_0_12_centos ~"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ rvm --version\nrvm 1.29.7 "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("latest"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" by Michal Papis, Piotr Kuczynski, Wayne E. Seguin "),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("https://rvm.io"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[t("code",[this._v("rvm")]),this._v("安装成功后，我们就可以安装"),t("code",[this._v("ruby")]),this._v("了")])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("publish@VM_0_12_centos ~"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ rvm "),n("span",{attrs:{class:"token function"}},[s._v("install")]),s._v(" ruby "),n("span",{attrs:{class:"token comment"}},[s._v("# 安装过程有点慢")]),s._v("\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("publish@VM_0_12_centos ~"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ ruby -v\nruby 2.6.0p0 "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("2018-12-25 revision 66547"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("x86_64-linux"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("p",[n("code",[s._v("ruby")]),s._v("安装成功后，"),n("code",[s._v("gem")]),s._v("也就安装成功了。和"),n("code",[s._v("npm")]),s._v("同样因为防火墙的问题，我们需要将"),n("code",[s._v("gem")]),s._v("源切换成国内的")])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("publish@VM_0_12_centos ~"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ gem sources -l\n*** CURRENT SOURCES ***\n\nhttps://rubygems.org/\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("publish@VM_0_12_centos ~"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ gem -v\n3.0.1\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("publish@VM_0_12_centos ~"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ gem sources --add https://gems.ruby-china.com/ --remove https://rubygems.org/\nhttps://gems.ruby-china.com/ added to sources\nhttps://rubygems.org/ removed from sources\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("publish@VM_0_12_centos ~"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ gem sources -l\n*** CURRENT SOURCES ***\n\nhttps://gems.ruby-china.com/\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("然后就能安装"),t("code",[this._v("travis")]),this._v("客户端了")])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("publish@VM_0_12_centos ~"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ gem "),n("span",{attrs:{class:"token function"}},[s._v("install")]),s._v(" travis\nShell completion not installed. Would you like to "),n("span",{attrs:{class:"token function"}},[s._v("install")]),s._v(" it now? "),n("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v("y"),n("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" y\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("publish@VM_0_12_centos ~"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ travis "),n("span",{attrs:{class:"token function"}},[s._v("help")]),s._v("\nUsage: travis COMMAND "),n("span",{attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n\nAvailable commands:\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("如果有上面的输出，就说明"),t("code",[this._v("travis")]),this._v("客户端已经在我们的服务器上安装成功了。下面，我们需要将项目克隆到我们的服务器上")])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("publish@VM_0_12_centos ~"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" projects\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("publish@VM_0_12_centos ~"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{attrs:{class:"token function"}},[s._v("cd")]),s._v(" projects/\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("publish@VM_0_12_centos projects"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{attrs:{class:"token function"}},[s._v("git")]),s._v(" clone https://github.com/zhaosaisai/publish-system.git\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("publish@VM_0_12_centos projects"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{attrs:{class:"token function"}},[s._v("cd")]),s._v(" publish-system/\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("publish@VM_0_12_centos publish-system"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{attrs:{class:"token function"}},[s._v("ls")]),s._v(" -al\n总用量 40\ndrwxrwxr-x 3 publish publish 4096 3月   3 10:46 "),n("span",{attrs:{class:"token keyword"}},[s._v(".")]),s._v("\ndrwxrwxr-x 3 publish publish 4096 3月   3 10:46 "),n("span",{attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\ndrwxrwxr-x 8 publish publish 4096 3月   3 10:46 .git\n-rw-rw-r-- 1 publish publish  914 3月   3 10:46 .gitignore\n-rw-rw-r-- 1 publish publish  208 3月   3 10:46 index.html\n-rw-rw-r-- 1 publish publish 1071 3月   3 10:46 LICENSE\n-rw-rw-r-- 1 publish publish  919 3月   3 10:46 package.json\n-rw-rw-r-- 1 publish publish  343 3月   3 10:46 README.md\n-rw-rw-r-- 1 publish publish  164 3月   3 10:46 .travis.yml\n-rw-rw-r-- 1 publish publish 2457 3月   3 10:46 webpack.config.js\n\n"),n("span",{attrs:{class:"token comment"}},[s._v("# 在项目根目录下 执行　travis的login操作")]),s._v("\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("publish@VM_0_12_centos publish-system"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ travis login\nWe need your GitHub login to identify you.\nThis information will not be sent to Travis CI, only to api.github.com.\nThe password will not be displayed.\n\nTry running with --github-token or --auto "),n("span",{attrs:{class:"token keyword"}},[s._v("if")]),s._v(" you don't want to enter your password anyway.\n\nUsername: zhaosaisai\nPassword "),n("span",{attrs:{class:"token keyword"}},[s._v("for")]),s._v(" zhaosaisai: ***********\nSuccessfully logged "),n("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v(" as zhaosaisai"),n("span",{attrs:{class:"token operator"}},[s._v("!")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("同样使用"),t("code",[this._v("github")]),this._v("的账户登录"),t("code",[this._v("travis")]),this._v("，然后，先来看看"),t("code",[this._v(".travis.yml")]),this._v("文件的内容")])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("publish@VM_0_12_centos publish-system"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{attrs:{class:"token function"}},[s._v("cat")]),s._v(" .travis.yml\n"),n("span",{attrs:{class:"token comment"}},[s._v("# 指定项目开发语言")]),s._v("\nlanguage: node_js\n"),n("span",{attrs:{class:"token comment"}},[s._v("# 指定node的版本")]),s._v("\nnode_js:\n  - 8\n"),n("span",{attrs:{class:"token comment"}},[s._v("# 指定触发构建的分支")]),s._v("\nbranches:\n  only:\n  - master\n\nscript:\n- "),n("span",{attrs:{class:"token keyword"}},[s._v("echo")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v("'build'")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("publish@VM_0_12_centos publish-system"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ travis encrypt-file ~/.ssh/id_rsa  --add\nDetected repository as zhaosaisai/publish-system, is this correct? "),n("span",{attrs:{class:"token operator"}},[s._v("|")]),n("span",{attrs:{class:"token function"}},[s._v("yes")]),n("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{attrs:{class:"token function"}},[s._v("yes")]),s._v("\nencrypting /home/publish/.ssh/id_rsa "),n("span",{attrs:{class:"token keyword"}},[s._v("for")]),s._v(" zhaosaisai/publish-system\nstoring result as id_rsa.enc\nstoring secure "),n("span",{attrs:{class:"token function"}},[s._v("env")]),s._v(" variables "),n("span",{attrs:{class:"token keyword"}},[s._v("for")]),s._v(" decryption\n\nMake sure to add id_rsa.enc to the "),n("span",{attrs:{class:"token function"}},[s._v("git")]),s._v(" repository.\nMake sure not to add /home/publish/.ssh/id_rsa to the "),n("span",{attrs:{class:"token function"}},[s._v("git")]),s._v(" repository.\nCommit all changes to your .travis.yml\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("然后，你就会发现在项目的根目录下多了一个"),t("code",[this._v("id_rsa.enc")]),this._v("文件以及"),t("code",[this._v(".travis.yml")]),this._v("多了一个"),t("code",[this._v("before_install")]),this._v("指令")])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("publish@VM_0_12_centos publish-system"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{attrs:{class:"token function"}},[s._v("ls")]),s._v(" -al\n总用量 44\ndrwxrwxr-x 3 publish publish 4096 3月   3 10:50 "),n("span",{attrs:{class:"token keyword"}},[s._v(".")]),s._v("\ndrwxrwxr-x 3 publish publish 4096 3月   3 10:46 "),n("span",{attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\ndrwxrwxr-x 8 publish publish 4096 3月   3 10:50 .git\n-rw-rw-r-- 1 publish publish  914 3月   3 10:46 .gitignore\n-rw-rw-r-- 1 publish publish 1680 3月   3 10:50 id_rsa.enc\n-rw-rw-r-- 1 publish publish  208 3月   3 10:46 index.html\n-rw-rw-r-- 1 publish publish 1071 3月   3 10:46 LICENSE\n-rw-rw-r-- 1 publish publish  919 3月   3 10:46 package.json\n-rw-rw-r-- 1 publish publish  343 3月   3 10:46 README.md\n-rw-rw-r-- 1 publish publish  223 3月   3 10:50 .travis.yml\n-rw-rw-r-- 1 publish publish 2457 3月   3 10:46 webpack.config.js\n\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("publish@VM_0_12_centos publish-system"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{attrs:{class:"token function"}},[s._v("cat")]),s._v(" .travis.yml\nlanguage: node_js\nnode_js:\n- 8\nbranches:\n  only:\n  - master\nscript:\n- "),n("span",{attrs:{class:"token keyword"}},[s._v("echo")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v("'build'")]),s._v("\nbefore_install:\n- openssl aes-256-cbc -K "),n("span",{attrs:{class:"token variable"}},[s._v("$encrypted_ff98517d7fe4_key")]),s._v(" -iv "),n("span",{attrs:{class:"token variable"}},[s._v("$encrypted_ff98517d7fe4_iv")]),s._v("\n  -in id_rsa.enc -out ~\\/.ssh/id_rsa -d\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("然后将变更推送到远程"),t("code",[this._v("master")]),this._v("分支上，同样会触发"),t("code",[this._v("travis")]),this._v("自动构建的工作。但是这次构建你可能会发现如下的错误")])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[t("img",{attrs:{src:"/blog/travis.png",alt:""}})])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("p",[s._v("这是因为"),n("code",[s._v("travis")]),s._v("的"),n("code",[s._v("1.8.8")]),s._v("以上的客户端有一个bug，生成的命令的"),n("code",[s._v("-out")]),s._v("选项的值多了一个"),n("code",[s._v("\\")]),s._v("，这会导致报错：")])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[this._v(" ~/.ssh/id_rsa: No such "),t("span",{attrs:{class:"token function"}},[this._v("file")]),this._v(" or directory\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("所以，我们手动将"),t("code",[this._v("before_install")]),this._v("中"),t("code",[this._v("-out")]),this._v("选项的值中多余的"),t("code",[this._v("\\")]),this._v("删除即可。")])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"language-yml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("before_install:\n- openssl aes-256-cbc -K $encrypted_ff98517d7fe4_key -iv $encrypted_ff98517d7fe4_iv\n  -in id_rsa.enc -out ~/.ssh/id_rsa -d\n")])]),this._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[this._v("1")]),t("br"),t("span",{staticClass:"line-number"},[this._v("2")]),t("br"),t("span",{staticClass:"line-number"},[this._v("3")]),t("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("然后将变更推送到远程"),t("code",[this._v("master")]),this._v("分支，就不会出现上述错误了，"),t("code",[this._v("travis")]),this._v("同样也会构建成功。")])},function(){var s=this.$createElement,t=this._self._c||s;return t("h2",{attrs:{id:"登录命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#登录命令","aria-hidden":"true"}},[this._v("#")]),this._v(" 登录命令")])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("到此，我们就差最后一个步骤了：在"),t("code",[this._v(".travis.yml")]),this._v("中添加登录服务器的命令。下面是我完整的"),t("code",[this._v(".travis.yml")]),this._v("内容")])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"language-yml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("language: node_js\nnode_js:\n- 8\nbranches:\n  only:\n  - master\ninstall:\n- yarn install \nscript:\n- yarn run build\nbefore_install:\n- openssl aes-256-cbc -K $encrypted_****_key -iv $encrypted_****_iv\n  -in id_rsa.enc -out ~/.ssh/id_rsa -d\naddons:\n  ssh_known_hosts:\n  - 118.24.204.202\nafter_success:\n- chmod 600 ~/.ssh/id_rsa\n- ssh publish@118.24.204.202 -o StrictHostKeyChecking=no 'cd ~/projects && ./sync_publish_system.sh'\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br")])])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("p",[s._v("至此，我们就完成了当项目变更推送到"),n("code",[s._v("master")]),s._v("分支后，自动触发"),n("code",[s._v("travis")]),s._v("自动安装，构建等工作。构建成功后，自动登录到我的服务器，进入到"),n("code",[s._v("~/projects")]),s._v("目录中执行"),n("code",[s._v("./sync_publish_system.sh")]),s._v("脚本。")])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("下面是我的"),t("code",[this._v("sync_publish_system.sh")]),this._v("的内容")])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("publish@VM_0_12_centos projects"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{attrs:{class:"token function"}},[s._v("cat")]),s._v(" sync_publish_system.sh\n"),n("span",{attrs:{class:"token comment"}},[s._v("#!/usr/bin/env bash")]),s._v("\n\n"),n("span",{attrs:{class:"token keyword"}},[s._v("set")]),s._v(" -euxo pipefail\n\n"),n("span",{attrs:{class:"token comment"}},[s._v("# 输出版本信息")]),s._v("\n"),n("span",{attrs:{class:"token keyword"}},[s._v("echo")]),s._v(" -e "),n("span",{attrs:{class:"token string"}},[s._v('"\\033[32m '),n("span",{attrs:{class:"token variable"}},[n("span",{attrs:{class:"token variable"}},[s._v("$(")]),n("span",{attrs:{class:"token function"}},[s._v("git")]),s._v(" version"),n("span",{attrs:{class:"token variable"}},[s._v(")")])]),s._v(' \\033[0m"')]),s._v("\n\n"),n("span",{attrs:{class:"token comment"}},[s._v("# 设置git配置相关的信息")]),s._v("\n"),n("span",{attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global user.name "),n("span",{attrs:{class:"token string"}},[s._v('"zhaosaisai"')]),s._v("\n"),n("span",{attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global user.email "),n("span",{attrs:{class:"token string"}},[s._v('"zhaosaisai@u51.com"')]),s._v("\n\n"),n("span",{attrs:{class:"token comment"}},[s._v("# 进入到publish-system")]),s._v("\n"),n("span",{attrs:{class:"token function"}},[s._v("cd")]),s._v(" ~/projects/publish-system\n\n"),n("span",{attrs:{class:"token comment"}},[s._v("# 获取最新内容")]),s._v("\n"),n("span",{attrs:{class:"token function"}},[s._v("git")]),s._v(" pull origin master\n\n"),n("span",{attrs:{class:"token comment"}},[s._v("# 安装和构建")]),s._v("\nyarn "),n("span",{attrs:{class:"token function"}},[s._v("install")]),s._v("\nyarn run build\n\n"),n("span",{attrs:{class:"token keyword"}},[s._v("exit")]),s._v(" 0\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("blockquote",[t("p",[this._v("你可以在安装和构建的过程中添加更过的操作，比如进行测试等环节。")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h2",{attrs:{id:"服务器安装node环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#服务器安装node环境","aria-hidden":"true"}},[this._v("#")]),this._v(" 服务器安装"),t("code",[this._v("Node")]),this._v("环境")])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("我的服务器的"),t("code",[this._v("Node")]),this._v("环境很简单")])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ul",[n("li",[s._v("安装"),n("code",[s._v("nvm")])]),s._v(" "),n("li",[s._v("安装"),n("code",[s._v("Node")])]),s._v(" "),n("li",[s._v("安装"),n("code",[s._v("yarn")])])])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("publish@VM_0_12_centos ~"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{attrs:{class:"token function"}},[s._v("curl")]),s._v(" -o- https://raw.githubusercontent.com/creationix/nvm/v0.34.0/install.sh "),n("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{attrs:{class:"token function"}},[s._v("bash")]),s._v("\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("publish@VM_0_12_centos ~"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ nvm -h\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("publish@VM_0_12_centos ~"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ nvm "),n("span",{attrs:{class:"token function"}},[s._v("install")]),s._v(" 8\nDownloading and installing node v8.15.1"),n("span",{attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nDownloading https://nodejs.org/dist/v8.15.1/node-v8.15.1-linux-x64.tar.xz"),n("span",{attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n"),n("span",{attrs:{class:"token comment"}},[s._v("######################################################################## 100.0%")]),s._v("\nComputing checksum with sha256sum\nChecksums matched"),n("span",{attrs:{class:"token operator"}},[s._v("!")]),s._v("\nNow using node v8.15.1 "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("npm v6.4.1"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nCreating default alias: default -"),n("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" 8 "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("-"),n("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" v8.15.1"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("publish@VM_0_12_centos ~"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{attrs:{class:"token function"}},[s._v("which")]),s._v(" node\n~/.nvm/versions/node/v8.15.1/bin/node\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("publish@VM_0_12_centos ~"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ node -v\nv8.15.1\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("publish@VM_0_12_centos ~"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{attrs:{class:"token function"}},[s._v("npm")]),s._v(" -v\n6.4.1\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("publish@VM_0_12_centos ~"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),n("span",{attrs:{class:"token function"}},[s._v("install")]),s._v(" yarn -g\n/home/publish/.nvm/versions/node/v8.15.1/bin/yarn -"),n("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" /home/publish/.nvm/versions/node/v8.15.1/lib/node_modules/yarn/bin/yarn.js\n/home/publish/.nvm/versions/node/v8.15.1/bin/yarnpkg -"),n("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" /home/publish/.nvm/versions/node/v8.15.1/lib/node_modules/yarn/bin/yarn.js\n+ yarn@1.13.0\nadded 1 package "),n("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v(" 2.66s\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("publish@VM_0_12_centos ~"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ yarn -v\n1.13.0\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h2",{attrs:{id:"安装nginx"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装nginx","aria-hidden":"true"}},[this._v("#")]),this._v(" 安装Nginx")])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("安装成功后，在"),t("code",[this._v("nginx")]),this._v("的配置文件中添加如下规则")])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"language-nginx line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-nginx"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[s._v("location")]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("403")]),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),n("span",{attrs:{class:"token keyword"}},[s._v("location")]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("^")]),n("span",{attrs:{class:"token operator"}},[s._v("~")]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("publish"),n("span",{attrs:{class:"token operator"}},[s._v("-")]),s._v("system "),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{attrs:{class:"token keyword"}},[s._v("alias")]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("home"),n("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("publish"),n("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("projects"),n("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("publish"),n("span",{attrs:{class:"token operator"}},[s._v("-")]),s._v("system"),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{attrs:{class:"token keyword"}},[s._v("index")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("index")]),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("html "),n("span",{attrs:{class:"token keyword"}},[s._v("index")]),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("htm"),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),n("span",{attrs:{class:"token keyword"}},[s._v("location")]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("^")]),n("span",{attrs:{class:"token operator"}},[s._v("~")]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("dist "),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{attrs:{class:"token keyword"}},[s._v("rewrite")]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("^")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token operator"}},[s._v("*")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("$ "),n("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("publish"),n("span",{attrs:{class:"token operator"}},[s._v("-")]),s._v("system"),n("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("$"),n("span",{attrs:{class:"token number"}},[s._v("1")]),s._v(" last"),n("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("重启"),t("code",[this._v("nginx")]),this._v("，访问"),t("code",[this._v("http://118.24.204.202/publish-system/")]),this._v("就能看到我们从零开始的项目，通过持续集成构建后，可以成功访问了。")])}],!1,null,null,null);e.options.__file="travis自动化部署github项目到server.md";t.default=e.exports}}]);