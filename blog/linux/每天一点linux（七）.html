<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>每天一点linux（七） | 赛赛的空间</title>
    <meta name="description" content="赵赛赛个人博客，关注前端技术，后端技术，喜欢编程。每天进步一点点就好啦！">
    <link rel="icon" type="image/x-icon" href="/blog/favicon.ico">
  <script type="text/javascript" src="/blog/bdtj.js"></script>
    
    <link rel="preload" href="/blog/assets/css/0.styles.626dd732.css" as="style"><link rel="preload" href="/blog/assets/js/app.80c7bcf3.js" as="script"><link rel="preload" href="/blog/assets/js/40.7529e546.js" as="script"><link rel="prefetch" href="/blog/assets/js/23.f3c5b449.js"><link rel="prefetch" href="/blog/assets/js/2.285762ea.js"><link rel="prefetch" href="/blog/assets/js/3.1774315e.js"><link rel="prefetch" href="/blog/assets/js/4.6daa2d0b.js"><link rel="prefetch" href="/blog/assets/js/5.789743ba.js"><link rel="prefetch" href="/blog/assets/js/6.a4fc446c.js"><link rel="prefetch" href="/blog/assets/js/7.5d880eb5.js"><link rel="prefetch" href="/blog/assets/js/8.78ee1864.js"><link rel="prefetch" href="/blog/assets/js/9.9d7bcbda.js"><link rel="prefetch" href="/blog/assets/js/10.c536af78.js"><link rel="prefetch" href="/blog/assets/js/11.801763af.js"><link rel="prefetch" href="/blog/assets/js/12.873931e2.js"><link rel="prefetch" href="/blog/assets/js/13.9d07f457.js"><link rel="prefetch" href="/blog/assets/js/14.033a1cb9.js"><link rel="prefetch" href="/blog/assets/js/15.a2f8c19c.js"><link rel="prefetch" href="/blog/assets/js/16.22371f04.js"><link rel="prefetch" href="/blog/assets/js/17.e819a91f.js"><link rel="prefetch" href="/blog/assets/js/18.e185e831.js"><link rel="prefetch" href="/blog/assets/js/19.89a815e4.js"><link rel="prefetch" href="/blog/assets/js/20.a390bccd.js"><link rel="prefetch" href="/blog/assets/js/21.373ca8a3.js"><link rel="prefetch" href="/blog/assets/js/22.4f83f5b2.js"><link rel="prefetch" href="/blog/assets/js/24.ecb99faa.js"><link rel="prefetch" href="/blog/assets/js/25.aa2dbfc9.js"><link rel="prefetch" href="/blog/assets/js/26.8e464578.js"><link rel="prefetch" href="/blog/assets/js/27.6c46b323.js"><link rel="prefetch" href="/blog/assets/js/28.3e97e9a5.js"><link rel="prefetch" href="/blog/assets/js/29.5c401362.js"><link rel="prefetch" href="/blog/assets/js/30.f9d6feab.js"><link rel="prefetch" href="/blog/assets/js/31.c14e2c30.js"><link rel="prefetch" href="/blog/assets/js/32.3d649f5e.js"><link rel="prefetch" href="/blog/assets/js/33.6c337086.js"><link rel="prefetch" href="/blog/assets/js/34.48b48dfd.js"><link rel="prefetch" href="/blog/assets/js/35.81babbe2.js"><link rel="prefetch" href="/blog/assets/js/36.8f18cab1.js"><link rel="prefetch" href="/blog/assets/js/37.decf9c41.js"><link rel="prefetch" href="/blog/assets/js/38.ba7de967.js"><link rel="prefetch" href="/blog/assets/js/39.424c68ec.js"><link rel="prefetch" href="/blog/assets/js/41.367dc9f5.js"><link rel="prefetch" href="/blog/assets/js/42.867abdc9.js"><link rel="prefetch" href="/blog/assets/js/43.fb8da59b.js"><link rel="prefetch" href="/blog/assets/js/44.a312b417.js"><link rel="prefetch" href="/blog/assets/js/45.ed8f5435.js"><link rel="prefetch" href="/blog/assets/js/46.b5e674a4.js"><link rel="prefetch" href="/blog/assets/js/47.a75d1270.js"><link rel="prefetch" href="/blog/assets/js/48.73efb28c.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.626dd732.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link"><img src="/blog/logo.png" alt="赛赛的空间" class="logo"> <span class="site-name can-hide">赛赛的空间</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">我的文章</a></div><div class="nav-item"><a href="/blog/good-writings.html" class="nav-link">阅读的好文</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">记录</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/linux.html" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/blog/webkit.html" class="nav-link">Webkit</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/zhaosaisai" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">我的文章</a></div><div class="nav-item"><a href="/blog/good-writings.html" class="nav-link">阅读的好文</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">记录</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/linux.html" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/blog/webkit.html" class="nav-link">Webkit</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/zhaosaisai" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <!----> </div> <div class="page"> <div class="content"><h1>每天一点linux（七）</h1> <p>在最初的时候曾介绍过<code>shell</code>是系统跟计算机硬件交互时使用的中间介质，它只是系统的一个工具。用户把指令告诉<code>shell</code>，然后<code>shell</code>再传输给系统内核，接着内核就会支配计算机硬件去执行各种操作。那<code>shell</code>在系统中是怎么存在的呢？很简单，打开你的终端，那个黑框框就是<code>shell</code></p> <p><img src="/blog/linux-imgs/shell1.png" alt></p> <p>在<code>shell</code>中，我们不仅能够通过命令来操作计算机，还能够利用<code>shell</code>提供的便捷功能更方便的工作。</p> <h2 id="历史记录"><a href="#历史记录" aria-hidden="true" class="header-anchor">#</a> 历史记录</h2> <p>我们在<code>shell</code>中执行过的每一条命令都会被操作系统记录下来。默认的情况下，操作系统会记录<code>1000</code>条历史命令。这些命令会保存在用户家目录下面的<code>.bash_history</code>(这个文件会由操作系统自动创建)。比如</p> <p><img src="/blog/linux-imgs/shell2.png" alt></p> <blockquote><p>只有正常的退出当前<code>shell</code>的时候，在当前<code>shell</code>中运行的命令才会保存在<code>.bash_history</code>文件中</p></blockquote> <p><img src="/blog/linux-imgs/shell3.png" alt></p> <h2 id><a href="#" aria-hidden="true" class="header-anchor">#</a> !</h2> <p><code>!</code>是和历史命令有关的一个特殊字符。这个字符常用的功能有如下三个：</p> <ul><li><strong>!!</strong>：<code>!!</code>表示执行上一条指令</li></ul> <p><img src="/blog/linux-imgs/shell4.png" alt></p> <ul><li><p><strong>!n</strong>：<code>!n</code>表示执行历史命令中的第几条指令</p></li> <li><p><strong>!字符串</strong>：表示执行历史命令中最近一次以 字符串 开头的命令。比如执行最后一次以<code>l</code>开头的命令</p></li></ul> <p><img src="/blog/linux-imgs/shell6.png" alt></p> <h2 id="别名alias"><a href="#别名alias" aria-hidden="true" class="header-anchor">#</a> 别名alias</h2> <p>别名机制主要是为了方便我们执行一些很长又具有特殊功能的命令。通过<code>alias</code>命令，我们可以查看系统中所有的别名命令。</p> <p><img src="/blog/linux-imgs/shell7.png" alt></p> <p>当然，我们也可以通过<code>alias</code>命令来设置别名。比如设置<code>lll</code>命令就是<code>clear</code>的功能。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">alias</span> lll<span class="token operator">=</span>clear
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="/blog/linux-imgs/shell8.png" alt></p> <p>这是在终端中输入<code>lll</code>就相当于执行了<code>clear</code>命令。如果，我们不想使用这个别名命令了，那么我们可以通过<code>unalias</code>进行卸载。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">unalias</span> lll
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="/blog/linux-imgs/shell9.png" alt></p> <h2 id="通配符"><a href="#通配符" aria-hidden="true" class="header-anchor">#</a> 通配符</h2> <p>在<code>shell</code>下，我们可以通过<code>*</code>来匹配零个或者多个字符，使用<code>?</code>来匹配一个字符。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>ll i* <span class="token comment"># 列出所有以i开头的文件</span>
ll inde?.js <span class="token comment">## 列出以 inde开头且文件名长度为5的文件</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="/blog/linux-imgs/shell10.png" alt></p> <h2 id="重定向"><a href="#重定向" aria-hidden="true" class="header-anchor">#</a> 重定向</h2> <p><code>linux</code>系统重定向的方式主要分为两种：<code>输入重定向</code>和<code>输出重定向</code>。</p> <ul><li><p><code>输入重定向</code>主要用于改变命令的输入，使用<code>&lt;</code>字符表示</p></li> <li><p><code>输出重定向</code>主要用于改变命令的输出，使用<code>&gt;</code>字符表示</p></li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">head</span> -n 1 /etc/group <span class="token operator">&gt;</span> 1.txt <span class="token comment"># 将head命令的输出重定向到1.txt文件中</span>
<span class="token function">wc</span> -l <span class="token operator">&lt;</span> 1.txt <span class="token comment"># 将 users的输出重定向到wc命令</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="/blog/linux-imgs/shell11.png" alt></p> <p><img src="/blog/linux-imgs/shell12.png" alt></p> <p><code>linux</code>还提供了另外两种重定向：<code>2&gt;</code>错误输出重定向，<code>&gt;&gt;</code>追加重定向</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token keyword">echo</span> <span class="token string">'1'</span> <span class="token operator">&gt;</span> 1.txt
<span class="token keyword">echo</span> <span class="token string">'1'</span> <span class="token operator">&gt;&gt;</span> 1.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="/blog/linux-imgs/shell13.png" alt></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>ll i.txt <span class="token comment"># 查看一个不存在的文件信息</span>
ll i.txt 2<span class="token operator">&gt;</span> err.txt <span class="token comment"># 将错误信息同步到err.txt中</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="/blog/linux-imgs/shell14.png" alt></p> <h2 id="管道符"><a href="#管道符" aria-hidden="true" class="header-anchor">#</a> 管道符</h2> <p><code>linux</code>提供了管道符<code>|</code>操作。它主要是用于将一个命令的输出作为另一个命令的输入。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">head</span> -n 5 /etc/passwd <span class="token operator">|</span> <span class="token function">wc</span> -l
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="/blog/linux-imgs/shell15.png" alt></p> <h2 id="变量"><a href="#变量" aria-hidden="true" class="header-anchor">#</a> 变量</h2> <p><code>linux</code>系统中提供了很多变量。变量就是使用一个简单的字符串来代替某些具有特殊意义的设定及数据。比如系统的环境变量<code>PATH</code>。我们可以在<code>shell</code>中直接使用系统提供的各种变量。获取变量的格式就是<code>$变量名</code>。比如：</p> <p><img src="/blog/linux-imgs/shell16.png" alt></p> <p>上面的<code>$HOME</code>和<code>$PATH</code>都是<code>linux</code>系统预设的环境变量。<code>linux</code>其实预设了很多的环境变量，我们可以通过<code>env</code>命令开查看系统预设的所有的环境变量。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">env</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="/blog/linux-imgs/shell17.png" alt></p> <p>这个变量的输出，我们都可以在终端中使用<code>echo $变量名</code>的方式来查看。</p> <blockquote><p><code>env</code>命令只是用来显示系统预设的环境变量。可以通过<code>set</code>命令显示系统预设的所有变量</p></blockquote> <p><img src="/blog/linux-imgs/shell18.png" alt></p> <p><img src="/blog/linux-imgs/shell19.png" alt></p> <p><code>set</code>命令除了可以显示系统预设的变量外，也可以显示用户自己的变量。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>nn<span class="token operator">=</span>saisai
<span class="token keyword">echo</span> <span class="token variable">$nn</span>
<span class="token keyword">set</span> <span class="token operator">|</span> <span class="token function">grep</span> nn
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>这种设置变量的方式只会在当前<code>shell</code>中起作用，一旦退出当前<code>shell</code>或者新建一个<code>shell</code>，创建的这个变量就会消失。</p> <p>为了能够让自己设置的环境变量始终有效，这里提供两种方式。第一种是针对所有登录到当前系统的用户都有效。第二种是只针对当前用户有效。</p> <ul><li><strong>允许所有登录到当前系统的用户都能使用该变量</strong>。在<code>/etc/profile</code>文件中添加<code>export nn=saisai</code>，然后运行<code>source /etc/profile</code>即可</li></ul> <p><img src="/blog/linux-imgs/shell20.png" alt></p> <ul><li><strong>仅对当前用户使用该变量</strong>。在家目录下新建<code>.bashrc</code>文件(后面会讲)，然后加入<code>export nnn=zss</code>，运行<code>source ~/.bashrc</code>即可</li></ul> <p><img src="/blog/linux-imgs/shell21.png" alt></p> <p>上述过程中我们使用了一个<code>export</code>命令。这个命令就是用来声明一个变量的。如果我们直接使用<code>export</code>变量，后面不加任何变量名，则它会列出所有已经声明的变量。</p> <p><img src="/blog/linux-imgs/shell22.png" alt></p> <p>设置了变量之后可以使用<code>unset</code>删除一个变量，当然也是只对当前<code>shell</code>起作用。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>unset nn
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="/blog/linux-imgs/shell23.png" alt></p> <h2 id="shell中的引号"><a href="#shell中的引号" aria-hidden="true" class="header-anchor">#</a> shell中的引号</h2> <p><code>shell</code>中有三种类型的引号</p> <ul><li><strong>单引号('')</strong>：原样输出某个字符串，特殊字符也会全部失去本身的意义。</li> <li><strong>双引号(&quot;&quot;)</strong>：不会取消双引号中特殊字符的含义，但是不会执行代表命令的字符串</li> <li><strong>反引号(``)</strong>：用于执行命令</li></ul> <p><img src="/blog/linux-imgs/shell24.png" alt></p> <p><img src="/blog/linux-imgs/shell25.png" alt></p> <h2 id="配置文件"><a href="#配置文件" aria-hidden="true" class="header-anchor">#</a> 配置文件</h2> <p>和系统变量有关的文件分为两种：<strong>系统级别</strong>和<strong>用户级别</strong>。</p> <p>系统级别的配置文件有两个：</p> <ul><li><strong>/etc/profile</strong>：这个文件预设了一些重要的变量。可以通过<code>cat /etc/profile</code>来查看</li> <li><strong>/etc/bashrc</strong>：这个文件主要预设<code>unmask</code>和<code>PS1</code>。通过<code>cat /etc/profile</code>来查看</li></ul> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p><code>PS1</code>就是在我们输入命令的时候前面的那串字符。<code>PS1</code>中有几个特殊字符</p> <ul><li><code>\u</code>：指用户名</li> <li><code>\h</code>：指主机名</li> <li><code>-W</code>：指当前目录</li> <li><code>\$</code>：指身份字符（超级管理员显示为<code>#</code>，普通用户显示为<code>$</code>）</li></ul></div> <p><img src="/blog/linux-imgs/shell26.png" alt></p> <p>这两个就是系统级别的配置文件，对登录这个系统的每一个用户都会起作用。与此对应的是用户级别的配置文件，这些配置文件是存放在用户家目录下面的一些隐藏文件，主要是针对此用户做一些特殊的配置。</p> <p><img src="/blog/linux-imgs/shell27.png" alt></p> <ul><li><strong>.bash_profile</strong>：这个文件定义了用户的个人路径和环境变量的文件名称。这个文件会在用户登录的时候，仅仅执行一次</li> <li><strong>.bashrc</strong>：包含用户专属的<code>bash</code>信息。每次登录或者打开新的<code>shell</code>的时候，这个文件都会被读取</li> <li><strong>.bash_history</strong>：记录当前用户历史命令的文件</li> <li><strong>.bash_logout</strong>：当用户退出<code>shell</code>的时候，就会执行这个文件。</li></ul> <p>对于上面的几个配置文件，执行顺序是</p> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>登录Linux ---&gt; /etc/profile ---&gt; $HOME/{.bash_profile | .bash_login | .profile}  ---&gt; $HOME/.bashrc ---&gt; /etc/bashrc</p></div> <p>下面我们看一下这些配置文件在读取变量时候的优先级</p> <p><img src="/blog/linux-imgs/shell28.png" alt></p> <h2 id="特殊符号"><a href="#特殊符号" aria-hidden="true" class="header-anchor">#</a> 特殊符号</h2> <p><code>linux</code>系统提供了很多的特殊符号，这些符号我们可以结合在一起在<code>shell</code>中使用来实现一些特殊的功能。</p> <p>有几个特殊字符前面已经见过，就是<code>*</code>代表零个或多个字符，<code>?</code>代表一个字符，以及<code>#</code>在<code>shell</code>表示注释，还有管道符<code>|</code>。</p> <p>除了这几个，<code>linux</code>还提供了几个特殊字符</p> <ul><li><strong>~</strong>：表示用户的家目录</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">cd</span> ~ <span class="token comment"># 切换到用户的家目录</span>
ll ~/.bashrc <span class="token comment"># 查看家目录下的.bashrc 文件</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li><strong>&amp;</strong>：把命令放入后台执行</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>node index.js <span class="token operator">&amp;</span> 
<span class="token function">jobs</span> <span class="token comment"># 来查看后台任务</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li><strong>;和&amp;&amp;和||</strong>：并行执行命令</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>cmd1<span class="token punctuation">;</span> cmd2 <span class="token comment"># cmd1成功与否都会执行cmd2</span>
cmd1 <span class="token operator">&amp;&amp;</span> cmd2 <span class="token comment"># cmd1成功的情况下才执行cmd2</span>
cmd1 <span class="token operator">||</span> cmd2 <span class="token comment"># cmd1失败的情况下才执行cmd2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><img src="/blog/linux-imgs/shell48.png" alt></p> <p>下面再介绍几个在<code>shell</code>中使用的特殊命令。</p> <h3 id="cut"><a href="#cut" aria-hidden="true" class="header-anchor">#</a> cut</h3> <p>这个命令主要是用于截取某一个字段。其格式是：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">cut</span> -d <span class="token string">'分隔字符'</span> <span class="token punctuation">[</span>-cf<span class="token punctuation">]</span> n
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><strong>-d</strong>：后面跟的是分隔字符，用于指定片段切割的依据</li> <li><strong>-c</strong>：表示获取的是字符</li> <li><strong>-f</strong>：表示获取的是片段</li></ul> <p>下面以<code>/etc/passwd</code>文件来演示<code>cut</code>命令的基本用法</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">cp</span> /etc/passwd <span class="token keyword">.</span> <span class="token comment"># 获取一个副本</span>
<span class="token function">head</span> -n 5 <span class="token operator">|</span> <span class="token function">cut</span> -d <span class="token string">':'</span> -f 1 <span class="token comment"># 以 : 进行分隔，并获取分隔后的第一个字段</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="/blog/linux-imgs/shell29.png" alt></p> <p>那这第一个片段是怎么来的。比如，下面的字符串</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>root:x:0:0:root:/root:/bin/zsh
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>根据<code>:</code>进行分隔后如下：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>root x 0 0 root /root /bin/zsh <span class="token comment"># 分隔为7个字段，第一个字段就是 root</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>那获取第6个字段或者第一个字符呢</p> <p><img src="/blog/linux-imgs/shell30.png" alt></p> <p>我们获取字符的时候不能通过<code>-d</code>进行分隔，只能从源字符串中获取。除此，<code>-c</code>选项也是可以通过区间来获取字符</p> <p><img src="/blog/linux-imgs/shell31.png" alt></p> <h3 id="sort"><a href="#sort" aria-hidden="true" class="header-anchor">#</a> sort</h3> <p><code>sort</code>命令主要是用于排序。格式如下</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">sort</span> <span class="token punctuation">[</span>-t 分隔符<span class="token punctuation">]</span> <span class="token punctuation">[</span>-kn1, n2<span class="token punctuation">]</span> <span class="token punctuation">[</span>-nru<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><strong>-t</strong>：后面跟上分隔符，作用和<code>cut</code>命令的<code>-d</code>参数类似</li> <li><strong>-n</strong>：表示使用纯数字排序</li> <li><strong>-r</strong>：表示反向排序</li> <li><strong>-u</strong>：表示去重排序</li> <li><strong>-kn1,n2</strong>：表示对<code>n1</code>和<code>n2</code>区域内的数据进行排序</li></ul> <p>先构建测试文件</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">head</span> -n 4 <span class="token function">passwd</span> <span class="token operator">&gt;</span> <span class="token function">passwd</span> 
<span class="token function">head</span> -n 4 <span class="token function">passwd</span> <span class="token operator">&gt;&gt;</span> <span class="token function">passwd</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>第一：<code>sort</code>不加任何选项，则按照<strong>首字符</strong>升序输出</p> <p><img src="/blog/linux-imgs/shell32.png" alt></p> <p>第二：输出逆向排序</p> <p><img src="/blog/linux-imgs/shell33.png" alt></p> <p>第三：对输出的结果逆向排序并去重</p> <p><img src="/blog/linux-imgs/shell34.png" alt></p> <p>第四：按照<code>uid</code>字段排序。这里需要把<code>-k</code>和<code>-t</code>结合在一起使用</p> <p><img src="/blog/linux-imgs/shell35.png" alt></p> <p>第五：使用纯数字进行排序。（指按照每一行记录中出现的数字进行排序，不是数字的忽略）</p> <p><img src="/blog/linux-imgs/shell36.png" alt></p> <h3 id="wc"><a href="#wc" aria-hidden="true" class="header-anchor">#</a> wc</h3> <p>这个命令主要用于统计。</p> <ul><li><strong>-l</strong>：统计行数</li> <li><strong>-m</strong>：统计字符数</li> <li><strong>-w</strong>：统计词数</li></ul> <p><img src="/blog/linux-imgs/shell37.png" alt></p> <h3 id="uniq"><a href="#uniq" aria-hidden="true" class="header-anchor">#</a> uniq</h3> <p>这个命令主要是用来删除重复的行。<code>-c</code>选项用于指定重复的行数。</p> <p><img src="/blog/linux-imgs/shell38.png" alt></p> <p>使用<code>uniq</code>命令前需要对数据进行排序，否则是没有任何作用的。</p> <p><img src="/blog/linux-imgs/shell39.png" alt></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">sort</span> <span class="token function">passwd</span> <span class="token operator">|</span> <span class="token function">uniq</span> <span class="token comment"># 等价于</span>
<span class="token function">sort</span> -u <span class="token function">passwd</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="tee"><a href="#tee" aria-hidden="true" class="header-anchor">#</a> tee</h3> <p>这个命令类似于输出重定向<code>&gt;</code>，但是<code>tee</code>重定向后同样会把数据显示在终端。常和<code>|</code>管道符结合在一起使用。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">cat</span> <span class="token function">passwd</span> <span class="token operator">&gt;</span> passwd1
<span class="token function">cat</span> <span class="token function">passwd</span> <span class="token operator">|</span> <span class="token function">tee</span> passwd2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="/blog/linux-imgs/shell40.png" alt></p> <h3 id="tr"><a href="#tr" aria-hidden="true" class="header-anchor">#</a> tr</h3> <p>这个命令主要是用来替换字符的。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">tr</span> 源字符 新字符
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>常用的选项有两个</p> <ul><li><strong>-d</strong>：表示删除某个字符</li> <li><strong>-s</strong>：表示删除重复的字符</li></ul> <p><img src="/blog/linux-imgs/shell41.png" alt></p> <p><img src="/blog/linux-imgs/shell42.png" alt></p> <p>将小写字母替换成大写字母</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">head</span> -n 1 <span class="token function">passwd</span> <span class="token operator">|</span> <span class="token function">tr</span> <span class="token string">'[a-z]'</span> <span class="token string">'[A-Z]'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="/blog/linux-imgs/shell43.png" alt></p> <p>将<code>r</code>替换成<code>R</code></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">head</span> -n 1 <span class="token function">passwd</span> <span class="token operator">|</span> <span class="token function">tr</span> <span class="token string">'r'</span> <span class="token string">'R'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="/blog/linux-imgs/shell44.png" alt></p> <h3 id="split"><a href="#split" aria-hidden="true" class="header-anchor">#</a> split</h3> <p>这个命令主要是用来切割文档的，常用的有两个选项</p> <ul><li><strong>-b</strong>：按照大小来切割。单位是<code>byte</code></li> <li><strong>-l</strong>：按照行数来切割</li></ul> <p>按照大小来切割</p> <p><img src="/blog/linux-imgs/shell45.png" alt></p> <p><img src="/blog/linux-imgs/shell46.png" alt></p> <p>按照行数来切割</p> <p><img src="/blog/linux-imgs/shell47.png" alt></p></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/blog/assets/js/40.7529e546.js" defer></script><script src="/blog/assets/js/app.80c7bcf3.js" defer></script>
  </body>
</html>
