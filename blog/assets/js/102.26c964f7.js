(window.webpackJsonp=window.webpackJsonp||[]).push([[102],{188:function(s,a,n){"use strict";n.r(a);var t=n(0),e=Object(t.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("div",{staticClass:"content"},[n("h1",[s._v("用户和用户组")]),s._v(" "),n("h2",{attrs:{id:"用户管理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#用户管理","aria-hidden":"true"}},[s._v("#")]),s._v(" 用户管理")]),s._v(" "),n("h3",{attrs:{id:"useradd"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#useradd","aria-hidden":"true"}},[s._v("#")]),s._v(" useradd")]),s._v(" "),n("p",[s._v("新建用户")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token comment"}},[s._v("# 新建一个wilson用户")]),s._v("\n"),n("span",{attrs:{class:"token function"}},[s._v("useradd")]),s._v(" wilson\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("可以使用"),n("code",[s._v("id")]),s._v("命令用户是否存在及相关信息")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("╭─root@localhost.localdomain ~\n╰─➤  "),n("span",{attrs:{class:"token function"}},[s._v("id")]),s._v(" root\nuid"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("0"),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("root"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" gid"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("0"),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("root"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 组"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("0"),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("root"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n╭─root@localhost.localdomain ~\n╰─➤  "),n("span",{attrs:{class:"token function"}},[s._v("id")]),s._v(" wilson\nuid"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("504"),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("wilson"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" gid"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("506"),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("wilson"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 组"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("506"),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("wilson"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n╭─root@localhost.localdomain ~\n╰─➤  "),n("span",{attrs:{class:"token function"}},[s._v("id")]),s._v(" zhao\nid: zhao：无此用户\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[s._v("用户创建好后，会在"),n("code",[s._v("/home")]),s._v("下存在一个和用户名同名的目录。这个目录就是这个用户的家目录。")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("╭─root@localhost.localdomain ~\n╰─➤  "),n("span",{attrs:{class:"token function"}},[s._v("cd")]),s._v(" /home/wilson                                                                                                                                                          \n╭─root@localhost.localdomain /home/wilson\n╰─➤  "),n("span",{attrs:{class:"token function"}},[s._v("pwd")]),s._v("\n/home/wilson\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("同时，会将新创建的用户记录在"),n("code",[s._v("/etc/passwd")]),s._v("文件中。")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("╭─root@localhost.localdomain /home/wilson\n╰─➤  "),n("span",{attrs:{class:"token function"}},[s._v("cat")]),s._v(" /etc/passwd "),n("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{attrs:{class:"token function"}},[s._v("grep")]),s._v(" wilson\nwilson:x:504:506::/home/wilson:/bin/bash\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("同时，也会在"),n("code",[s._v("/etc/shadow")]),s._v("文件中记录下和用户相关的密码等内容")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("╭─root@localhost.localdomain /home/wilson\n╰─➤  "),n("span",{attrs:{class:"token function"}},[s._v("cat")]),s._v(" /etc/shadow "),n("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{attrs:{class:"token function"}},[s._v("grep")]),s._v(" wilson\nwilson:"),n("span",{attrs:{class:"token operator"}},[s._v("!")]),n("span",{attrs:{class:"token operator"}},[s._v("!")]),s._v(":17987:0:99999:7:::\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("同时，系统也会给这个用户分配一个"),n("code",[s._v("uid")]),s._v("，"),n("code",[s._v("gid")]),s._v("。如果在创建用户的时候没有指定组，那么系统就会在创建用户的同时创建一个和用户名相同的组。")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("╭─root@localhost.localdomain ~\n╰─➤  "),n("span",{attrs:{class:"token function"}},[s._v("id")]),s._v(" wilson\nuid"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("504"),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("wilson"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" gid"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("506"),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("wilson"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 组"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("506"),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("wilson"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("blockquote",[n("p",[s._v("只有"),n("code",[s._v("root")]),s._v("用户才有创建普通用户的权限")])]),s._v(" "),n("h3",{attrs:{id:"userdel"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#userdel","aria-hidden":"true"}},[s._v("#")]),s._v(" userdel")]),s._v(" "),n("p",[s._v("删除用户")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token function"}},[s._v("userdel")]),s._v(" 用户名称\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("使用这个命令删除用户的时候，可以使用"),n("code",[s._v("-r")]),s._v("选项。如果没有"),n("code",[s._v("-r")]),s._v("选项，则在删除用户的时候不会删除用户的家目录")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("╭─root@localhost.localdomain /home/wilson\n╰─➤  "),n("span",{attrs:{class:"token function"}},[s._v("userdel")]),s._v(" saisai\n╭─root@localhost.localdomain /home/wilson\n╰─➤  ll /home\n总用量 24K\ndrwx------. 2 js       js       4.0K 5月  11 2018 js\ndrwx------. 2 new      new      4.0K 5月  12 2018 new\ndrwx------. 2      500      501 4.0K 5月  10 2018 saisai\ndrwx------. 2 testsudo testsudo 4.0K 5月  12 2018 testsudo\ndrwx------. 2      500      501 4.0K 5月  10 2018 user1\ndrwx------. 2 wilson   wilson   4.0K 4月   1 21:41 wilson\n\n╭─root@localhost.localdomain ~\n╰─➤  "),n("span",{attrs:{class:"token function"}},[s._v("userdel")]),s._v(" -r wilson\n╭─root@localhost.localdomain ~\n╰─➤  ll /home\n总用量 20K\ndrwx------. 2 js       js       4.0K 5月  11 2018 js\ndrwx------. 2 new      new      4.0K 5月  12 2018 new\ndrwx------. 2      500      501 4.0K 5月  10 2018 saisai\ndrwx------. 2 testsudo testsudo 4.0K 5月  12 2018 testsudo\ndrwx------. 2      500      501 4.0K 5月  10 2018 user1\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br")])]),n("h3",{attrs:{id:"passwd"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#passwd","aria-hidden":"true"}},[s._v("#")]),s._v(" passwd")]),s._v(" "),n("p",[s._v("修改用户密码")]),s._v(" "),n("blockquote",[n("p",[s._v("新用户创建好之后是不会能够登录系统的，用户如果想登录系统，必须设置密码。")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("╭─root@localhost.localdomain /home/wilson\n╰─➤  "),n("span",{attrs:{class:"token function"}},[s._v("passwd")]),s._v(" wilson\n更改用户 wilson 的密码 。\n新的 密码：\n无效的密码： 过于简单化/系统化\n无效的密码： 过于简单\n重新输入新的 密码：\npasswd： 所有的身份验证令牌已经成功更新\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("p",[n("code",[s._v("passwd")]),s._v("命令后如果没有设置用户名，那么就是更改自己的密码。")]),s._v(" "),n("h3",{attrs:{id:"usermod"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#usermod","aria-hidden":"true"}},[s._v("#")]),s._v(" usermod")]),s._v(" "),n("p",[s._v("修改用户属性")]),s._v(" "),n("ul",[n("li",[n("code",[s._v("-d")]),s._v("：设置用户的家目录")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("╭─root@localhost.localdomain ~\n╰─➤  "),n("span",{attrs:{class:"token function"}},[s._v("useradd")]),s._v(" w\n"),n("span",{attrs:{class:"token comment"}},[s._v("# 将w用户的家目录修改为/home/w1")]),s._v("\n╭─root@localhost.localdomain ~\n╰─➤  "),n("span",{attrs:{class:"token function"}},[s._v("usermod")]),s._v(" -d /home/w1 w\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("blockquote",[n("p",[s._v("修改用户的家目录后，当这个用户登录系统的时候就默认进入到了这个目录下")])]),s._v(" "),n("h3",{attrs:{id:"chage"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#chage","aria-hidden":"true"}},[s._v("#")]),s._v(" chage")]),s._v(" "),n("p",[s._v("更改用户密码过期等信息。可以修改用户密码的过期时间，用户密码的修改时间等。")]),s._v(" "),n("h2",{attrs:{id:"用户组"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#用户组","aria-hidden":"true"}},[s._v("#")]),s._v(" 用户组")]),s._v(" "),n("h3",{attrs:{id:"groupadd"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#groupadd","aria-hidden":"true"}},[s._v("#")]),s._v(" groupadd")]),s._v(" "),n("p",[s._v("新建用户组")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token comment"}},[s._v("# 新建一个用户组")]),s._v("\n╭─root@localhost.localdomain ~\n╰─➤  "),n("span",{attrs:{class:"token function"}},[s._v("groupadd")]),s._v(" group1\n"),n("span",{attrs:{class:"token comment"}},[s._v("# 新建一个用户")]),s._v("\n╭─root@localhost.localdomain ~\n╰─➤  "),n("span",{attrs:{class:"token function"}},[s._v("useradd")]),s._v(" u1\n"),n("span",{attrs:{class:"token comment"}},[s._v("# 通过usermod修改用户的用户组")]),s._v("\n╭─root@localhost.localdomain ~\n╰─➤  "),n("span",{attrs:{class:"token function"}},[s._v("usermod")]),s._v(" -g group1 u1\n\n"),n("span",{attrs:{class:"token comment"}},[s._v("# 新建用户的时候指定用户的组")]),s._v("\n╭─root@localhost.localdomain ~\n╰─➤  "),n("span",{attrs:{class:"token function"}},[s._v("useradd")]),s._v(" -g group1 u2\n╭─root@localhost.localdomain ~\n╰─➤  "),n("span",{attrs:{class:"token function"}},[s._v("id")]),s._v(" u1\nuid"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("505"),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("u1"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" gid"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("507"),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("group1"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 组"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("507"),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("group1"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n╭─root@localhost.localdomain ~\n╰─➤  "),n("span",{attrs:{class:"token function"}},[s._v("id")]),s._v(" u2\nuid"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("506"),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("u2"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" gid"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("507"),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("group1"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 组"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("507"),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("group1"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br")])]),n("h3",{attrs:{id:"groupdel"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#groupdel","aria-hidden":"true"}},[s._v("#")]),s._v(" groupdel")]),s._v(" "),n("p",[s._v("删除用户组")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token comment"}},[s._v("# 改组下面有用户不能删除")]),s._v("\n╭─root@localhost.localdomain ~\n╰─➤  "),n("span",{attrs:{class:"token function"}},[s._v("groupdel")]),s._v(" group1\ngroupdel：不能移除用户“u1”的主组\n\n╭─root@localhost.localdomain ~\n╰─➤  "),n("span",{attrs:{class:"token function"}},[s._v("groupadd")]),s._v(" g2                                                                                                            \n╭─root@localhost.localdomain ~\n╰─➤  "),n("span",{attrs:{class:"token function"}},[s._v("groupdel")]),s._v(" g2\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("h2",{attrs:{id:"配置文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置文件","aria-hidden":"true"}},[s._v("#")]),s._v(" 配置文件")]),s._v(" "),n("p",[s._v("和用户及用户组有关的配置文件主要有三个")]),s._v(" "),n("ul",[n("li",[n("code",[s._v("/etc/passwd")])]),s._v(" "),n("li",[n("code",[s._v("/etc/shadow")])]),s._v(" "),n("li",[n("code",[s._v("/etc/group")])])]),s._v(" "),n("p",[s._v("对配置文件进行修改，都会对用户或用户组产生影响。")]),s._v(" "),n("h3",{attrs:{id:"etc-passwd"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#etc-passwd","aria-hidden":"true"}},[s._v("#")]),s._v(" /etc/passwd")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("vim /etc/passwd\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[n("code",[s._v("/etc/passwd")]),s._v("文件中保存的数据以行为单位，每一行共有7个字段")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("root:x:0:0:root:/root:/bin/zsh\nw:x:504:506::/home/w1:/bin/bash\nu1:x:505:507::/home/u1:/bin/bash\nu2:x:506:507::/home/u2:/bin/bash\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("这"),n("code",[s._v("7")]),s._v("个字段分别是")]),s._v(" "),n("ul",[n("li",[n("code",[s._v("用户名")])]),s._v(" "),n("li",[n("code",[s._v("x")]),s._v("表示这个用户是否需要密码验证。"),n("code",[s._v("x")]),s._v("表示需要，不需要的话可以将这个字段设置为空。")]),s._v(" "),n("li",[n("code",[s._v("用户的uid")]),s._v("，"),n("code",[s._v("linux")]),s._v("中使用"),n("code",[s._v("uid")]),s._v("来识别用户。"),n("code",[s._v("uid")]),s._v("为"),n("code",[s._v("0")]),s._v("，表示"),n("code",[s._v("root")]),s._v("用户")]),s._v(" "),n("li",[n("code",[s._v("用户的gid")]),s._v("，表示这个用户是属于哪一个组的")]),s._v(" "),n("li",[n("code",[s._v("注释")])]),s._v(" "),n("li",[n("code",[s._v("用户的家目录路径")])]),s._v(" "),n("li",[n("code",[s._v("用户登录后的命令解释器")]),s._v("，当把这个字段设置为"),n("code",[s._v("/sbin/nologin")]),s._v("，表示这个用户是不能进行登录的。")])]),s._v(" "),n("blockquote",[n("p",[s._v("我们可以直接操作这个文件来修改用户信息")])]),s._v(" "),n("h3",{attrs:{id:"etc-shadow"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#etc-shadow","aria-hidden":"true"}},[s._v("#")]),s._v(" /etc/shadow")]),s._v(" "),n("p",[s._v("这个文件是用来保存用户和用户密码相关信息的")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("vim /etc/shadow\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("u1:"),n("span",{attrs:{class:"token variable"}},[s._v("$6")]),n("span",{attrs:{class:"token variable"}},[s._v("$GYyAhIx9")]),n("span",{attrs:{class:"token variable"}},[s._v("$DcH96QlOX2FVRwDmmckRByK0l53")]),s._v("/NOHO3aDkR2HzpkuAVUNgerQBbyUGlS3v32a911xW61v/MDQMzLufzxuOv1:17987:0:99999:7:::\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("一般只需要关心前两个字段就行了")]),s._v(" "),n("ul",[n("li",[n("code",[s._v("用户名称")])]),s._v(" "),n("li",[n("code",[s._v("用户加密后的密码")])])]),s._v(" "),n("h3",{attrs:{id:"etc-group"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#etc-group","aria-hidden":"true"}},[s._v("#")]),s._v(" /etc/group")]),s._v(" "),n("p",[s._v("这个文件用来保存用户组信息的，也是以行为单位，每行包含四个字段")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("vim /etc/group\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("u1:x:508:\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ul",[n("li",[s._v("组名称")]),s._v(" "),n("li",[s._v("这个组的用户是否需要密码验证")]),s._v(" "),n("li",[s._v("组id")]),s._v(" "),n("li",[s._v("其它组设置，因为一个用户可以属于多个组，这个字段就是用来保存其它组名称的")])])])}],!1,null,null,null);e.options.__file="09-用户和用户组管理.md";a.default=e.exports}}]);