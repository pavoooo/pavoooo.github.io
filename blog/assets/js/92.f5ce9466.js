(window.webpackJsonp=window.webpackJsonp||[]).push([[92],{197:function(s,a,t){"use strict";t.r(a);var n=t(0),v=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("div",{staticClass:"content"},[t("h1",[s._v("每天一点linux（三）")]),s._v(" "),t("p",[s._v("今天要学习的是和几个文档有关的命令，在我们查看文件内容或者实时查看日志的时候会很有帮助。")]),s._v(" "),t("h2",{attrs:{id:"cat"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cat","aria-hidden":"true"}},[s._v("#")]),s._v(" cat")]),s._v(" "),t("p",[t("code",[s._v("cat")]),s._v("命令主要是用来查看文件内容的。")]),s._v(" "),t("p",[t("img",{attrs:{src:"/blog/linux-imgs/cat1.png",alt:"cat"}})]),s._v(" "),t("p",[s._v("这个命令还有几个比较常用的选项：")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("-n")]),s._v("：查看文件内容的时候把行号也显示在屏幕上")])]),s._v(" "),t("p",[t("img",{attrs:{src:"/blog/linux-imgs/cat2.png",alt:"cat"}})]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("-A")]),s._v("：显示所有的内容，包含一些特殊字符。")])]),s._v(" "),t("p",[t("img",{attrs:{src:"/blog/linux-imgs/cat3.png",alt:"cat"}})]),s._v(" "),t("h2",{attrs:{id:"tac"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tac","aria-hidden":"true"}},[s._v("#")]),s._v(" tac")]),s._v(" "),t("p",[t("code",[s._v("tac")]),s._v("是一个比较有意思的命令。从字面上来看它是"),t("code",[s._v("cat")]),s._v("命令的逆序书写。其作用也是和"),t("code",[s._v("cat")]),s._v("命令相反，它用于倒序显示文件的内容。"),t("strong",[t("code",[s._v("-n")]),s._v("和"),t("code",[s._v("-A")]),s._v("选项不适用它。")])]),s._v(" "),t("p",[t("img",{attrs:{src:"/blog/linux-imgs/tac.png",alt:"cat"}})]),s._v(" "),t("h2",{attrs:{id:"more"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#more","aria-hidden":"true"}},[s._v("#")]),s._v(" more")]),s._v(" "),t("p",[t("code",[s._v("more")]),s._v("命令主要用在所查看的文件内容过多的场景下使用。如果文件内容过多，它只会显示一屏的内容。我们可以按"),t("strong",[s._v("空格键")]),s._v("继续查看下一屏，或者按"),t("strong",[s._v("q")]),s._v("键退出查看。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{attrs:{class:"token function"}},[s._v("more")]),s._v(" index.html\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"/blog/linux-imgs/more.png",alt:"more"}})]),s._v(" "),t("h2",{attrs:{id:"less"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#less","aria-hidden":"true"}},[s._v("#")]),s._v(" less")]),s._v(" "),t("p",[t("code",[s._v("less")]),s._v("命令和"),t("code",[s._v("more")]),s._v("命令的作用比较类似。但"),t("code",[s._v("less")]),s._v("命令对输出的文本提供了更多的交互。")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("空格键")]),s._v("：实现翻页")]),s._v(" "),t("li",[t("strong",[s._v("j键")]),s._v("：向下移动")]),s._v(" "),t("li",[t("strong",[s._v("k键")]),s._v("：向上移动")]),s._v(" "),t("li",[t("strong",[s._v("/")]),s._v("：向下查找字符，按"),t("code",[s._v("n")]),s._v("键显示下一个")]),s._v(" "),t("li",[t("strong",[s._v("?")]),s._v("：向上查找字符，按"),t("code",[s._v("n")]),s._v("键显示上一个")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("/root "),t("span",{attrs:{class:"token comment"}},[s._v("# 查找 ")]),s._v("\n?root\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"head"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#head","aria-hidden":"true"}},[s._v("#")]),s._v(" head")]),s._v(" "),t("p",[t("code",[s._v("head")]),s._v("这个命令主要是用于显示文件的前10行。使用"),t("code",[s._v("-n")]),s._v("可以指定需要显示的行数。")]),s._v(" "),t("p",[t("img",{attrs:{src:"/blog/linux-imgs/head1.png",alt:"head"}})]),s._v(" "),t("p",[s._v("显示文件的前5行")]),s._v(" "),t("p",[t("img",{attrs:{src:"/blog/linux-imgs/head2.png",alt:"head"}})]),s._v(" "),t("h2",{attrs:{id:"tail"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tail","aria-hidden":"true"}},[s._v("#")]),s._v(" tail")]),s._v(" "),t("p",[t("code",[s._v("tail")]),s._v("这个命令默认会显示文件的后10行。同样可以使用"),t("code",[s._v("-n")]),s._v("指定需要显示的行数.")]),s._v(" "),t("p",[t("img",{attrs:{src:"/blog/linux-imgs/tail1.png",alt:"tail"}})]),s._v(" "),t("p",[s._v("显示文件的后3行")]),s._v(" "),t("p",[t("img",{attrs:{src:"/blog/linux-imgs/tail2.png",alt:"tail"}})]),s._v(" "),t("p",[t("code",[s._v("tail")]),s._v("的"),t("code",[s._v("-f")]),s._v("选项也是十分常用的。它会动态监测文件的内容，当文件内容有变化的时候实时输出到屏幕上。这对我们实时检测日志很有帮助。")]),s._v(" "),t("p",[t("img",{attrs:{src:"/blog/linux-imgs/tail3.png",alt:"tail"}})]),s._v(" "),t("p",[t("code",[s._v("linux")]),s._v("中的文件除了具有一些常规属性外，还具有一些和权限相关的属性。比如文件的所有者信息，所属组信息，以及文件的可读性，可写性以及可执行性。"),t("code",[s._v("linux")]),s._v("也提供了对这些特殊属性进行了操作。")]),s._v(" "),t("h2",{attrs:{id:"chgrp"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#chgrp","aria-hidden":"true"}},[s._v("#")]),s._v(" chgrp")]),s._v(" "),t("p",[t("code",[s._v("chgrp")]),s._v("即"),t("code",[s._v("change group")]),s._v("。这个命令就是用来更改文件的所属组的。用法如下：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{attrs:{class:"token function"}},[s._v("chgrp")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("组名称"),t("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("文件路径"),t("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("所以，我们可以这样用")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{attrs:{class:"token function"}},[s._v("groupadd")]),s._v(" everyday "),t("span",{attrs:{class:"token comment"}},[s._v("# 添加一个新组")]),s._v("\n\n"),t("span",{attrs:{class:"token function"}},[s._v("touch")]),s._v(" everyday.js\n\n"),t("span",{attrs:{class:"token function"}},[s._v("chgrp")]),s._v(" everyday everyday.js\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[t("img",{attrs:{src:"/blog/linux-imgs/chgrp1.png",alt:"chgrp"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"/blog/linux-imgs/chgrp2.png",alt:"chgrp"}})]),s._v(" "),t("p",[s._v("这个命令还能更改目录的所属组信息：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" everyday\n\n"),t("span",{attrs:{class:"token function"}},[s._v("chgrp")]),s._v(" everyday everyday\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[t("img",{attrs:{src:"/blog/linux-imgs/chgrp3.png",alt:"chgrp"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"/blog/linux-imgs/chgrp4.png",alt:"chgrp"}})]),s._v(" "),t("p",[s._v("但是，"),t("code",[s._v("chgrp")]),s._v("命令在更改目录所属组的信息的时候，只会更改当前目录本身的所属组信息，目录下的目录和文件的所属组信息是没有更改的。如果想级联更改目录的所属组信息，请加上"),t("code",[s._v("-R")]),s._v("选项。")]),s._v(" "),t("p",[t("img",{attrs:{src:"/blog/linux-imgs/chgrp5.png",alt:"chgrp"}})]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{attrs:{class:"token function"}},[s._v("chgrp")]),s._v(" -R everyday everyday\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"/blog/linux-imgs/chgrp6.png",alt:"chgrp"}})]),s._v(" "),t("h2",{attrs:{id:"chown"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#chown","aria-hidden":"true"}},[s._v("#")]),s._v(" chown")]),s._v(" "),t("p",[t("code",[s._v("chown")]),s._v("即"),t("code",[s._v("change owner")]),s._v("，用来更改文件的所有者信息。当更改目录的所有者信息的时候，默认行为和"),t("code",[s._v("chgrp")]),s._v("类似。只会更改当前目录的所有者信息，不会更改子目录等文件的所有者信息。如果需要级联更改，同样使用"),t("code",[s._v("-R")]),s._v("选项。用法如下：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-R"),t("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" 用户名 文件路径\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("一个简单的例子：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{attrs:{class:"token function"}},[s._v("useradd")]),s._v(" js "),t("span",{attrs:{class:"token comment"}},[s._v("# 添加一个用户js")]),s._v("\n"),t("span",{attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p lang/js "),t("span",{attrs:{class:"token comment"}},[s._v("# 级联创建目录")]),s._v("\n"),t("span",{attrs:{class:"token function"}},[s._v("chown")]),s._v(" -R js lang "),t("span",{attrs:{class:"token comment"}},[s._v("# 更改lang所有者 为js")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[t("img",{attrs:{src:"/blog/linux-imgs/chown.png",alt:"chown"}})]),s._v(" "),t("div",{staticClass:"tip custom-block"},[t("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),t("p",[s._v("chown还有一个比较常用的用法，可以同时更改文件的所有者和所属组信息。")]),s._v(" "),t("p",[t("strong",[s._v("chown -R 所有者:所属组")])])]),s._v(" "),t("h2",{attrs:{id:"chmod"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#chmod","aria-hidden":"true"}},[s._v("#")]),s._v(" chmod")]),s._v(" "),t("p",[t("code",[s._v("chmod")]),s._v("是"),t("code",[s._v("linux")]),s._v("非常重要的命令之一。主要是用来修改文件的相关权限。"),t("code",[s._v("linux")]),s._v("中的用户有三种身份")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("所有者")])]),s._v(" "),t("li",[t("strong",[s._v("所属组")])]),s._v(" "),t("li",[t("strong",[s._v("其它用户")])])]),s._v(" "),t("p",[s._v("文件对于这三种身份分别具有三种访问权限，分别是:")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("r")]),s._v("：可读性")]),s._v(" "),t("li",[t("strong",[s._v("w")]),s._v("：可写性")]),s._v(" "),t("li",[t("strong",[s._v("x")]),s._v("：可执行性")])]),s._v(" "),t("p",[s._v("比如，通过"),t("code",[s._v("ll")]),s._v("命令来查看一个文件")]),s._v(" "),t("p",[t("img",{attrs:{src:"/blog/linux-imgs/chmod1.png",alt:"chmod"}})]),s._v(" "),t("blockquote",[t("p",[s._v("-表示当前用户对这个文件没有相应的权限")])]),s._v(" "),t("p",[s._v("从输出的第一列就可以看出。文件的所有者即"),t("code",[s._v("js")]),s._v("对其具有可读可写可执行的权限。文件相同组"),t("code",[s._v("lang")]),s._v("用户对其具有可读和可执行性。同样，其它用户对其也是有可读和可执行性。")]),s._v(" "),t("p",[s._v("通过"),t("code",[s._v("rwx")]),s._v("用来表示文件的权限是"),t("code",[s._v("linux")]),s._v("中权限的一种表示方法。"),t("code",[s._v("linux")]),s._v("中还有一种使用"),t("strong",[s._v("数字")]),s._v("来表示权限的方式。在这种权限表示方式中，"),t("strong",[s._v("r等于4，w等于2，x等于1")]),s._v("。上述的文件如果使用数字表示就会变成：")]),s._v(" "),t("ul",[t("li",[s._v("所有者"),t("code",[s._v("rwx")]),s._v(" ---\x3e 4 + 2 + 1 ---\x3e 7")]),s._v(" "),t("li",[s._v("所属组"),t("code",[s._v("r-x")]),s._v(" ---\x3e 4 + 1 ---\x3e 5")]),s._v(" "),t("li",[s._v("其它用户"),t("code",[s._v("r-x")]),s._v(" ---\x3e 4 + 1 ---\x3e 5")])]),s._v(" "),t("p",[s._v("所以，上述文件如果使用数字表示权限，就代替为这个文件的权限是"),t("code",[s._v("755")]),s._v("。")]),s._v(" "),t("p",[s._v("鉴于上面的介绍，我们可以猜测在"),t("code",[s._v("linux")]),s._v("中修改文件饿的权限至少有两种方式我们可以使用。")]),s._v(" "),t("ul",[t("li",[s._v("第一种：通过数字来更改文件的权限。其基本格式为：")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-R"),t("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" 权限数字 文件路径\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("blockquote",[t("p",[s._v("-R选项同样是我们在更改目录权限时候需要级联更改的时候使用。")])]),s._v(" "),t("p",[s._v("比如，把上面的"),t("code",[s._v("lang")]),s._v("目录的权限更改为"),t("code",[s._v("775")]),s._v("。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{attrs:{class:"token function"}},[s._v("chmod")]),s._v(" 775 lang\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"/blog/linux-imgs/chmod2.png",alt:"chmod"}})]),s._v(" "),t("p",[s._v("上面是"),t("code",[s._v("linux")]),s._v("中更改文件权限的第一种方式。第二种方式则是通过"),t("code",[s._v("rwx")]),s._v("来设置权限。")]),s._v(" "),t("ul",[t("li",[s._v("第二种：增减"),t("code",[s._v("rwx")]),s._v("来设置权限")])]),s._v(" "),t("p",[s._v("了解这种更改文件权限方式之前，需要了解几个字母的含义。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("u -"),t("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" 表示文件的所有者\ng -"),t("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" 表示文件的所属组\no -"),t("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" 表示其它用户\na -"),t("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" 表示全部用户\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("下面是这种方式修改文件权限的具体例子：")]),s._v(" "),t("ol",[t("li",[s._v("把文件的所有者设置为"),t("code",[s._v("rwx")]),s._v("，文件的所属组和其它用户只有"),t("code",[s._v("r")]),s._v("权限")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{attrs:{class:"token function"}},[s._v("chmod")]),s._v(" u"),t("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("rwx,og"),t("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("r lang\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"/blog/linux-imgs/chmod3.png",alt:"chmod"}})]),s._v(" "),t("ol",{attrs:{start:"2"}},[t("li",[s._v("给所有身份加上可执行"),t("code",[s._v("x")]),s._v("权限")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{attrs:{class:"token function"}},[s._v("chmod")]),s._v(" a+x lang\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"/blog/linux-imgs/chmod4.png",alt:"chmod"}})]),s._v(" "),t("ol",{attrs:{start:"3"}},[t("li",[s._v("去除其它用户"),t("code",[s._v("o")]),s._v("的可执行权限")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{attrs:{class:"token function"}},[s._v("chmod")]),s._v(" o-x lang\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"/blog/linux-imgs/chmod5.png",alt:"chmod"}})]),s._v(" "),t("h2",{attrs:{id:"umask"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#umask","aria-hidden":"true"}},[s._v("#")]),s._v(" umask")]),s._v(" "),t("p",[s._v("首先创建一个目录"),t("code",[s._v("dir")]),s._v("和一个普通文件"),t("code",[s._v("file.js")])]),s._v(" "),t("p",[t("img",{attrs:{src:"/blog/linux-imgs/umask1.png",alt:"umask"}})]),s._v(" "),t("p",[s._v("可以看出所创建的目录"),t("code",[s._v("dir")]),s._v("的权限是"),t("code",[s._v("rwxr-xr-x")]),s._v(" ---\x3e "),t("code",[s._v("755")]),s._v("。普通文件"),t("code",[s._v("file.js")]),s._v("的权限是"),t("code",[s._v("rw-r--r--")]),s._v(" ---\x3e "),t("code",[s._v("644")]),s._v("。这两个值也是"),t("code",[s._v("linux")]),s._v("创建的目录和普通文件的默认权限。那么，这些默认权限是怎么来的呢。这里就需要设计一个命令"),t("code",[s._v("umask")]),s._v("。这个命令主要用于更改文件的缺省权限。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{attrs:{class:"token function"}},[s._v("umask")]),s._v(" "),t("span",{attrs:{class:"token comment"}},[s._v("# 默认是 022")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"/blog/linux-imgs/umask2.png",alt:"umask"}})]),s._v(" "),t("p",[s._v("在"),t("code",[s._v("linux")]),s._v("创建文件的时候是有两个默认规则的")]),s._v(" "),t("ul",[t("li",[s._v("若创建的是目录，则会对其开放所有权限即777("),t("code",[s._v("rwxrwxrwx")]),s._v(")")]),s._v(" "),t("li",[s._v("若创建的是文本文件，则是没有可执行权限的，即666("),t("code",[s._v("rw-rw-rw")]),s._v(")")])]),s._v(" "),t("p",[s._v("那为啥我们创建的目录默认权限是"),t("code",[s._v("755")]),s._v("，普通文件是"),t("code",[s._v("644")]),s._v("呢？那是因为在创建文件的时候，需要使用上面默认的权限来减去"),t("code",[s._v("umask")]),s._v("的所表示的值。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("777 - 022 "),t("span",{attrs:{class:"token operator"}},[s._v("==")]),t("span",{attrs:{class:"token operator"}},[s._v("=")]),t("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" 755\n666 - 022 "),t("span",{attrs:{class:"token operator"}},[s._v("==")]),t("span",{attrs:{class:"token operator"}},[s._v("=")]),t("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" 644\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("其实，"),t("code",[s._v("umask")]),s._v("也是可写的。也就是说我们可以自己定义"),t("code",[s._v("umask")]),s._v("的值，那么在定义后所创建文件的行为都会以这个新的"),t("code",[s._v("umask")]),s._v("的值来确认文件的默认权限。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{attrs:{class:"token function"}},[s._v("umask")]),s._v(" 数值\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("比如，我们把"),t("code",[s._v("umask")]),s._v("的设置为"),t("code",[s._v("000")]),s._v("，那么所创建的文件都是其对应类型默认的最大预设权限。")]),s._v(" "),t("p",[t("img",{attrs:{src:"/blog/linux-imgs/umask3.png",alt:"umask"}})]),s._v(" "),t("p",[s._v("为了安全起见，我们在测试完毕后，别忘了恢复到原来的值")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{attrs:{class:"token function"}},[s._v("umask")]),s._v(" 022\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])])}],!1,null,null,null);v.options.__file="每天一点linux（三）.md";a.default=v.exports}}]);