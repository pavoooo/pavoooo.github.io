(window.webpackJsonp=window.webpackJsonp||[]).push([[90],{192:function(s,t,a){"use strict";a.r(t);var n=a(0),e=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"content"},[a("h1",[s._v("插件和预设")]),s._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#插件"}},[s._v("插件")])]),a("li",[a("a",{attrs:{href:"#预设"}},[s._v("预设")])]),a("li",[a("a",{attrs:{href:"#顺序"}},[s._v("顺序")])]),a("li",[a("a",{attrs:{href:"#参数"}},[s._v("参数")])]),a("li",[a("a",{attrs:{href:"#其它"}},[s._v("其它")])])])]),a("p"),s._v(" "),a("p",[s._v("在详细的了解"),a("code",[s._v("babel")]),s._v("的插件和预设之前，我们需要对"),a("code",[s._v("babel")]),s._v("的工作流程有个大致的了解。"),a("code",[s._v("babel")]),s._v("的工作流程大致可以分为三个步骤："),a("code",[s._v("解析")]),s._v(" -> "),a("code",[s._v("转换")]),s._v(" -> "),a("code",[s._v("生成")]),s._v("。")]),s._v(" "),a("ul",[a("li",[a("p",[a("strong",[s._v("解析(parse)")]),s._v("：这个步骤主要用来将源代码转换成抽象语法树("),a("code",[s._v("abstract syntax tree")]),s._v(")，简称"),a("code",[s._v("ast")]),s._v("。关于"),a("code",[s._v("ast")]),s._v("的内容后面我们会详细介绍。")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("转换(transform)")]),s._v("：这个步骤主要用来将源代码的"),a("code",[s._v("ast")]),s._v("转换成目标生成环境代码的"),a("code",[s._v("ast")]),s._v("。比如我们的源代码是"),a("code",[s._v("ES6")]),s._v("形式的，需要通过"),a("code",[s._v("babel")]),s._v("将其编译成"),a("code",[s._v("ES5")]),s._v("形式。这个步骤就会将"),a("code",[s._v("ES6")]),s._v("的"),a("code",[s._v("ast")]),s._v("转换成"),a("code",[s._v("ES5")]),s._v("的"),a("code",[s._v("ast")]),s._v("。")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("生成(generate)")]),s._v("：这个步骤主要是根据转换步骤生成的"),a("code",[s._v("ast")]),s._v("将其转换成目标代码的形式。比如根据新生成的"),a("code",[s._v("ES5")]),s._v("的"),a("code",[s._v("ast")]),s._v("将其转换成代码。")])])]),s._v(" "),a("h2",{attrs:{id:"插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#插件","aria-hidden":"true"}},[s._v("#")]),s._v(" 插件")]),s._v(" "),a("p",[s._v("前面我们提到过，"),a("code",[s._v("babel")]),s._v("是建立在插件之上的，"),a("code",[s._v("babel")]),s._v("的代码转换功能都是以插件的形式出现。"),a("code",[s._v("babel")]),s._v("的插件是一个小型的"),a("code",[s._v("Javascript")]),s._v("程序，用来告诉"),a("code",[s._v("babel")]),s._v("如何对代码进行转换。"),a("code",[s._v("babel")]),s._v("官方提供了很多插件，每一个插件都对应着一种或者多种语法的转换，你也可以编写自己的插件将你所需要的转换功能应用到你的代码上。")]),s._v(" "),a("p",[a("code",[s._v("babel")]),s._v("的插件主要有两种："),a("code",[s._v("语法插件")]),s._v("和"),a("code",[s._v("转换插件")])]),s._v(" "),a("ul",[a("li",[a("p",[a("code",[s._v("语法插件")]),s._v("：在"),a("code",[s._v("babel")]),s._v("解析阶段起作用。有了这种类型的插件，"),a("code",[s._v("babel")]),s._v("才能解析对应的语法。"),a("strong",[s._v("注意，此处只是解析，并不转换。解析只是将源代码解析成"),a("code",[s._v("ast")]),s._v("，转换是将"),a("code",[s._v("ast")]),s._v("再转换成代码。")])])]),s._v(" "),a("li",[a("p",[a("code",[s._v("转换插件")]),s._v("：在"),a("code",[s._v("babel")]),s._v("转换阶段起作用，用来将"),a("code",[s._v("ast")]),s._v("转换成目标代码。"),a("strong",[s._v("指定转换插件的时候，"),a("code",[s._v("babel")]),s._v("会自动引入相应的语法插件。")])])])]),s._v(" "),a("blockquote",[a("p",[a("code",[s._v("babel")]),s._v("的语法插件一般以"),a("code",[s._v("@babel/plugin-syntax-")]),s._v("开头，转换插件一般以"),a("code",[s._v("@babel/plugin-transform-")]),s._v("开头。当然，这不是绝对的。")])]),s._v(" "),a("p",[s._v("假设我们的项目中使用"),a("code",[s._v("import()")]),s._v("的语法，现在需要对这种语法形式进行转换。"),a("code",[s._v("import()")]),s._v("语法对应的语法插件是"),a("code",[s._v("@babel/plugin-syntax-dynamic-import")]),s._v("，转换插件是"),a("code",[s._v("@babel/plugin-proposal-dynamic-import")]),s._v("。")]),s._v(" "),a("blockquote",[a("p",[s._v("以"),a("code",[s._v("@babel/plugin-proposal-")]),s._v("开头的插件一般表示这种语法尚处于提案阶段，并不是"),a("code",[s._v("Ecmascript")]),s._v("的标准语法")])]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[s._v("// index.js")]),s._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[s._v("import")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token string"}},[s._v("'./index.js'")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("假设我们只使用了语法插件"),a("code",[s._v("@babel/plugin-syntax-dynamic-import")])]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[s._v("// babel.config.js")]),s._v("\nmodule"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  plugins"),a("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),a("span",{attrs:{class:"token string"}},[s._v('"@babel/plugin-syntax-dynamic-import"')]),s._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("编译后"),a("code",[s._v("lib/index.js")]),s._v("的内容为")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[s._v("// lib/index.js")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("import")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token string"}},[s._v("'./index.js'")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("如果我们使用了转换插件"),a("code",[s._v("@babel/plugin-proposal-dynamic-import")]),s._v("呢")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[s._v("// babel.config.js")]),s._v("\nmodule"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  plugins"),a("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),a("span",{attrs:{class:"token string"}},[s._v('"@babel/plugin-proposal-dynamic-import"')]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{attrs:{class:"token string"}},[s._v('"@babel/plugin-transform-modules-commonjs"')]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{attrs:{class:"token string"}},[s._v('"@babel/plugin-transform-modules-amd"')]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{attrs:{class:"token string"}},[s._v('"@babel/plugin-transform-modules-systemjs"')]),s._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("blockquote",[a("p",[a("code",[s._v("@babel/plugin-proposal-dynamic-import")]),s._v("依赖上面三种插件，编译的时候也需要明确指定。")])]),s._v(" "),a("p",[s._v("编译之后的内容如下")]),s._v(" "),a("blockquote",[a("p",[s._v("省略了部分转换后的代码")])]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[s._v("// lib/index.js")]),s._v("\n"),a("span",{attrs:{class:"token string"}},[s._v('"use strict"')]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nSystem"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{attrs:{class:"token function"}},[s._v("register")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("_export"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" _context"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{attrs:{class:"token string"}},[s._v('"use strict"')]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n  "),a("span",{attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{attrs:{class:"token function"}},[s._v("_getRequireWildcardCache")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n  "),a("span",{attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{attrs:{class:"token function"}},[s._v("_interopRequireWildcard")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("obj"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n  "),a("span",{attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    setters"),a("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    execute"),a("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      Promise"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{attrs:{class:"token function"}},[s._v("resolve")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{attrs:{class:"token function"}},[s._v("then")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{attrs:{class:"token function"}},[s._v("_interopRequireWildcard")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token function"}},[s._v("require")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token string"}},[s._v("'./index.js'")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("p",[s._v("从编译后的文件可以看出，"),a("code",[s._v("import()")]),s._v("语法已经被正确转换了。")]),s._v(" "),a("p",[s._v("从上面这个例子，我们一句话概括一下"),a("code",[s._v("语法插件")]),s._v("和"),a("code",[s._v("转换插件")]),s._v("的作用")]),s._v(" "),a("ul",[a("li",[a("p",[a("code",[s._v("语法插件")]),s._v("--我只负责让"),a("code",[s._v("babel")]),s._v("能够识别正确的语法，这样它才能将对应的语法进行转换生成"),a("code",[s._v("ast")]),s._v("，后面的事情我不管。")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("转换插件")]),s._v("--我负责"),a("code",[s._v("babel")]),s._v("根据新生成的"),a("code",[s._v("ast")]),s._v("向代码的转换，这样你才能生层目标环境的代码。当然了，我转换的前提是"),a("code",[s._v("babel")]),s._v("要能够识别相应的语法并生成"),a("code",[s._v("ast")]),s._v("，所以，如果你没有声明"),a("code",[s._v("babel")]),s._v("识别相应语法的插件，我也负责引入它。")])])]),s._v(" "),a("h2",{attrs:{id:"预设"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#预设","aria-hidden":"true"}},[s._v("#")]),s._v(" 预设")]),s._v(" "),a("p",[s._v("预设也是"),a("code",[s._v("babel")]),s._v("中提供的一个很重要的功能，通俗的说"),a("strong",[s._v("预设就是一组插件的集合")]),s._v("。既然"),a("code",[s._v("babel")]),s._v("提供了很多的插件，那为什么还需要预设的存在呢？这里我们看一个平时开发中肯定会遇到的场景。在写项目的时候，你使用了很多"),a("code",[s._v("es6")]),s._v("的语法，为了能够让我们的项目在目标浏览器中运行，我们需要借助"),a("code",[s._v("babel")]),s._v("将这些"),a("code",[s._v("es6")]),s._v("的语法编译成目标浏览器支持的"),a("code",[s._v("es5")]),s._v("及以下版本的语法。既然需要"),a("code",[s._v("babel")]),s._v("编译，那我们就得声明所使用的插件。")]),s._v(" "),a("p",[s._v("如果你使用了箭头函数的语法，你需要配置"),a("code",[s._v("@babel/plugin-transform-arrow-functions")]),s._v("插件。\n如果你使用了"),a("code",[s._v("const")]),s._v("或"),a("code",[s._v("let")]),s._v("声明变量，你需要配置"),a("code",[s._v("@babel/plugin-transform-block-scoping")]),s._v("插件。\n如果你使用了解构的语法，你需要配置"),a("code",[s._v("@babel/plugin-transform-destructuring")]),s._v("插件。\n....")]),s._v(" "),a("p",[s._v("当然，你在项目中会使用很多新特性的语法，如果让你针对你所使用的语法都明确配置对应的插件。你烦不烦，不光烦还容易出错。\n这种情况下，我们就可以直接使用"),a("code",[s._v("babel")]),s._v("提供的预设了。你使用了"),a("code",[s._v("es6")]),s._v("或者更新特性的语法，那你就直接配置一下"),a("code",[s._v("@babel/preset-env")]),s._v("这个预设就可以了。这个预设包含了所有转换"),a("code",[s._v("es6")]),s._v("及更新特性语法的插件。指定了了这个预设，你就不需要为每一种所使用到的语法都明确指定相应的插件了。")]),s._v(" "),a("p",[a("code",[s._v("babel")]),s._v("官方也提供了很多预设。比如"),a("code",[s._v("@babel/preset-env")]),s._v("，"),a("code",[s._v("@babel/preset-flow")]),s._v("，"),a("code",[s._v("@babel/preset-react")]),s._v("，"),a("code",[s._v("@babel/preset-typescript")]),s._v("等。每一个预设都是为一种特定的环境而设置的，后面我们会详细看看一些常用预设的使用，这里你只需要知道预设是什么就可以了。")]),s._v(" "),a("h2",{attrs:{id:"顺序"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#顺序","aria-hidden":"true"}},[s._v("#")]),s._v(" 顺序")]),s._v(" "),a("p",[a("code",[s._v("babel")]),s._v("的插件和预设是有执行顺序的，不同的执行顺序可能会得到不同的编译结果。关于插件和预设的执行顺序主要有如下三种规则")]),s._v(" "),a("ul",[a("li",[s._v("插件在预设之前执行")]),s._v(" "),a("li",[s._v("插件的执行顺序是从前往后执行")]),s._v(" "),a("li",[s._v("预设的执行顺序是从后往前执行")])]),s._v(" "),a("p",[s._v("假设我们的配置文件如下")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[s._v("// babel.config.js")]),s._v("\nmodule"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  presets"),a("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),a("span",{attrs:{class:"token string"}},[s._v('"es2015"')]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{attrs:{class:"token string"}},[s._v('"react"')]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{attrs:{class:"token string"}},[s._v('"stage-2"')]),s._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  plugins"),a("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),a("span",{attrs:{class:"token string"}},[s._v('"transform-decorators-legacy"')]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{attrs:{class:"token string"}},[s._v('"transform-class-properties"')]),s._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("p",[s._v("编译的时候插件和预设的执行顺序如下："),a("code",[s._v("transform-decorators-legacy")]),s._v(" -> "),a("code",[s._v("transform-class-properties")]),s._v(" -> "),a("code",[s._v("stage-2")]),s._v(", "),a("code",[s._v("react")]),s._v(" -> "),a("code",[s._v("es2015")]),s._v("。")]),s._v(" "),a("h2",{attrs:{id:"参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参数","aria-hidden":"true"}},[s._v("#")]),s._v(" 参数")]),s._v(" "),a("p",[a("code",[s._v("babel")]),s._v("的插件和预设都可以接收参数。当我们需要为插件或者预设传递参数的时候，我们需要在配置文件中将参数名和参数对象组成一个数组来设置。基本形式是")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("插件或者预设的名称，参数对象"),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("比如")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("module"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  plugins"),a("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),a("span",{attrs:{class:"token string"}},[s._v('"pluginA"')]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{attrs:{class:"token string"}},[s._v('"pluginB"')]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" losse"),a("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{attrs:{class:"token boolean"}},[s._v("true")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  presets"),a("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),a("span",{attrs:{class:"token string"}},[s._v('"presetA"')]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{attrs:{class:"token string"}},[s._v('"presetB"')]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" loose"),a("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{attrs:{class:"token boolean"}},[s._v("true")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("h2",{attrs:{id:"其它"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其它","aria-hidden":"true"}},[s._v("#")]),s._v(" 其它")]),s._v(" "),a("p",[s._v("关于预设有一点你也需要了解一下。从"),a("code",[s._v("babel@7")]),s._v("开始，所有针对处于标准提案阶段的功能所编写的预设("),a("code",[s._v("stage preset")]),s._v(")都已被弃用。比如"),a("code",[s._v("@babel/preset-stage-0")]),s._v("，"),a("code",[s._v("@babel/preset-stage-3")]),s._v("等。"),a("code",[s._v("TC39")]),s._v("将提案分为如下几个阶段")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("Stage 0")]),s._v("：设想阶段("),a("code",[s._v("Strawman")]),s._v(")。只是一个想法，可能有"),a("code",[s._v("babel")]),s._v("插件。")]),s._v(" "),a("li",[a("code",[s._v("Stage 1")]),s._v("：建议阶段("),a("code",[s._v("Proposal")]),s._v(")。表示这个想法是值得跟进的。")]),s._v(" "),a("li",[a("code",[s._v("Stage 2")]),s._v("：草案阶段("),a("code",[s._v("Draft")]),s._v(")。关于这个想法的初始规范已经形成。")]),s._v(" "),a("li",[a("code",[s._v("Stage 3")]),s._v("：候选阶段("),a("code",[s._v("Candidate")]),s._v(")。这个想法的规范已经在浏览器中初步实现了。")]),s._v(" "),a("li",[a("code",[s._v("Stage 4")]),s._v("：完成阶段("),a("code",[s._v("Finished")]),s._v(")。这个想法会在下一年度的版本发布。")])]),s._v(" "),a("p",[s._v("处于上面这些提案的语法可能会随时变化，针对于"),a("code",[s._v("Stage 3")]),s._v("之前的任何提案，请谨慎使用。"),a("code",[s._v("babel")]),s._v("也可能为这些提案提供相应的插件，所以如果你想使用处于这些提案中的语法，你可以自行配置相应的插件。")]),s._v(" "),a("blockquote",[a("p",[s._v("一旦提案中的语法发布，"),a("code",[s._v("@babel/preset-env")]),s._v("会马不停蹄的支持")])])])}],!1,null,null,null);e.options.__file="插件和预设.md";t.default=e.exports}}]);