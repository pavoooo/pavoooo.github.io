(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{217:function(s,n,t){"use strict";t.r(n);var a=t(0),v=Object(a.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var s=this,n=s.$createElement,t=s._self._c||n;return t("div",{staticClass:"content"},[t("h1",[s._v("每天一点linux（四）")]),s._v(" "),t("p",[t("code",[s._v("linux")]),s._v("中一切皆文件。"),t("code",[s._v("linux")]),s._v("中的文件分为若干种类型。比较常见的主要有如下四种类型的文件：")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("普通文件")]),s._v("：即我们常见的文本文件。在"),t("code",[s._v("linux")]),s._v("中使用"),t("code",[s._v("-")]),s._v("来表示")]),s._v(" "),t("li",[t("strong",[s._v("目录文件")]),s._v("：特指目录。在"),t("code",[s._v("linux")]),s._v("中使用"),t("code",[s._v("d")]),s._v("来表示")]),s._v(" "),t("li",[t("strong",[s._v("链接文件")]),s._v("：在"),t("code",[s._v("linux")]),s._v("中的链接文件主要分为两种类型"),t("code",[s._v("硬链接文件")]),s._v("和"),t("code",[s._v("软链接文件")]),s._v("。统一使用"),t("code",[s._v("l")]),s._v("来表示")]),s._v(" "),t("li",[t("strong",[s._v("设备文件")]),s._v("："),t("code",[s._v("linux")]),s._v("设备文件同样分为两种："),t("code",[s._v("块设备")]),s._v("主要用来存储数据的，比如硬盘等，用字符"),t("code",[s._v("b")]),s._v("来表示。"),t("code",[s._v("字符设备")]),s._v("，比如鼠标，键盘等，用字符"),t("code",[s._v("c")]),s._v("来表示。")])]),s._v(" "),t("p",[s._v("上面几种类型的文件，我们在日常使用"),t("code",[s._v("linux")]),s._v("的过程中肯定会经常接触。如果你感到陌生，并不是不存在，可能是因为太常用而忽略了具体的文件类型。下面先介绍一下"),t("code",[s._v("linux")]),s._v("中的链接文件是什么？")]),s._v(" "),t("p",[t("code",[s._v("linux")]),s._v("中的链接文件主要分为两种，"),t("strong",[s._v("硬链接文件")]),s._v("和"),t("strong",[s._v("软链接文件")]),s._v("。两种链接文件的区别主要在于"),t("code",[s._v("inode")]),s._v("。")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("硬链接")]),s._v("：当系统要读取一个文件的时，就会先读"),t("code",[s._v("inode table")]),s._v("，然后再根据"),t("code",[s._v("inode")]),s._v("中的信息到块区域将数据取出来。硬链接的本质就是创建的时候再建立一个"),t("code",[s._v("inode")]),s._v("链接到文件放置的块区域。即进行硬链接的时候，文件本身的内容是没有发生任何变化的，只是多了一个指向这个文件的"),t("code",[s._v("inode")]),s._v("。")])]),s._v(" "),t("p",[t("img",{attrs:{src:"/blog/linux-imgs/link1.png",alt:"link"}})]),s._v(" "),t("p",[s._v("创建硬链接的时候主要有两个限制：")]),s._v(" "),t("ol",[t("li",[s._v("不能跨文件系统，因为不同的文件系统有不同的"),t("code",[s._v("inode table")])]),s._v(" "),t("li",[s._v("不能链接目录")])]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("软链接")]),s._v("：和硬链接不同的是，软链接是新创建一个独立的文件，当读取这个链接文件的时候，它会把读取行为转发到该文件所链接的文件上。（类似于windows）上的快捷方式")])]),s._v(" "),t("p",[s._v("在"),t("code",[s._v("linux")]),s._v("中创建链接文件是通过"),t("code",[s._v("ln")]),s._v("命令来操作的。格式如下：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{attrs:{class:"token function"}},[s._v("ln")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-s"),t("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("来源文件"),t("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("目的文件"),t("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("选项"),t("code",[s._v("-s")]),s._v("用来表示创建的文件的类型。如果加上"),t("code",[s._v("-s")]),s._v("选项表示创建的文件是"),t("code",[s._v("软链接")]),s._v("，否则就是"),t("code",[s._v("硬链接")]),s._v("文件。")]),s._v(" "),t("p",[s._v("下面是对链接文件进行操作的一些例子。首先看一下硬链接具有什么特性")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{attrs:{class:"token function"}},[s._v("touch")]),s._v(" index.js "),t("span",{attrs:{class:"token comment"}},[s._v("# 创建一个文件")]),s._v("\n"),t("span",{attrs:{class:"token function"}},[s._v("ln")]),s._v(" index.js index.hard "),t("span",{attrs:{class:"token comment"}},[s._v("# 创建一个硬链接文件")]),s._v("\n"),t("span",{attrs:{class:"token keyword"}},[s._v("echo")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v("'const a = 1'")]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" index.js "),t("span",{attrs:{class:"token comment"}},[s._v("# 向源文件中插入数据")]),s._v("\n"),t("span",{attrs:{class:"token function"}},[s._v("cat")]),s._v(" index.js index.hard "),t("span",{attrs:{class:"token comment"}},[s._v("# 查看两个文件的内容")]),s._v("\n"),t("span",{attrs:{class:"token keyword"}},[s._v("echo")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v("'var a = 1'")]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" index.hard "),t("span",{attrs:{class:"token comment"}},[s._v("# 向链接文件中插入一些数据")]),s._v("\n"),t("span",{attrs:{class:"token function"}},[s._v("cat")]),s._v(" index.js index.hard "),t("span",{attrs:{class:"token comment"}},[s._v("# 查看两个文件的内容")]),s._v("\n"),t("span",{attrs:{class:"token function"}},[s._v("rm")]),s._v(" index.js "),t("span",{attrs:{class:"token comment"}},[s._v("# 删除源文件")]),s._v("\n"),t("span",{attrs:{class:"token function"}},[s._v("cat")]),s._v(" index.hard "),t("span",{attrs:{class:"token comment"}},[s._v("# 查看链接文件")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[t("img",{attrs:{src:"/blog/linux-imgs/link2.png",alt:"link"}})]),s._v(" "),t("p",[s._v("下面再看一下软链接的特性")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{attrs:{class:"token function"}},[s._v("touch")]),s._v(" index.js "),t("span",{attrs:{class:"token comment"}},[s._v("# 创建一个文件")]),s._v("\n"),t("span",{attrs:{class:"token function"}},[s._v("ln")]),s._v(" -s index.js index.soft "),t("span",{attrs:{class:"token comment"}},[s._v("# 创建一个硬链接文件")]),s._v("\n"),t("span",{attrs:{class:"token keyword"}},[s._v("echo")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v("'const a = 1'")]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" index.js "),t("span",{attrs:{class:"token comment"}},[s._v("# 向源文件中插入数据")]),s._v("\n"),t("span",{attrs:{class:"token function"}},[s._v("cat")]),s._v(" index.js index.soft "),t("span",{attrs:{class:"token comment"}},[s._v("# 查看两个文件的内容")]),s._v("\n"),t("span",{attrs:{class:"token keyword"}},[s._v("echo")]),s._v(" "),t("span",{attrs:{class:"token string"}},[s._v("'var a = 1'")]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v(" index.soft "),t("span",{attrs:{class:"token comment"}},[s._v("# 向链接文件中插入一些数据")]),s._v("\n"),t("span",{attrs:{class:"token function"}},[s._v("cat")]),s._v(" index.js index.soft "),t("span",{attrs:{class:"token comment"}},[s._v("# 查看两个文件的内容")]),s._v("\n"),t("span",{attrs:{class:"token function"}},[s._v("rm")]),s._v(" index.js "),t("span",{attrs:{class:"token comment"}},[s._v("# 删除源文件")]),s._v("\n"),t("span",{attrs:{class:"token function"}},[s._v("cat")]),s._v(" index.soft "),t("span",{attrs:{class:"token comment"}},[s._v("# 查看链接文件")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[t("img",{attrs:{src:"/blog/linux-imgs/link3.png",alt:"link"}})]),s._v(" "),t("p",[s._v("上面就是链接文件的一些基本知识。下面学习一个特别有用的命令"),t("code",[s._v("find")]),s._v("，这个命令主要是用于搜索文件的。")]),s._v(" "),t("h2",{attrs:{id:"find"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#find","aria-hidden":"true"}},[s._v("#")]),s._v(" find")]),s._v(" "),t("p",[t("code",[s._v("find")]),s._v("命令主要是根据指定的参数在"),t("code",[s._v("linux")]),s._v("系统中找出符合条件的文件。格式如下：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("路径"),t("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("参数"),t("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("主要有下面几个比较常用的参数")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("-type")]),s._v("：指定文件的类型，通过文件类型来查找文件。文件类型就是上面所介绍的几种"),t("code",[s._v("f")]),s._v(", "),t("code",[s._v("b")]),s._v(", "),t("code",[s._v("d")]),s._v(", "),t("code",[s._v("c")]),s._v(", "),t("code",[s._v("l")]),s._v(", "),t("code",[s._v("s")]),s._v("等")])]),s._v(" "),t("p",[s._v("比如找出"),t("code",[s._v("demos")]),s._v("目录下所有的目录:")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v(" demos -type d\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"/blog/linux-imgs/find1.png",alt:"find"}})]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("-name")]),s._v("：指定文件名称，通过文件名称来查找文件。比如找出"),t("code",[s._v("demos")]),s._v("目录下文件名称是"),t("code",[s._v("index.js")]),s._v("的文件。")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v(" demos -name index.js\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"/blog/linux-imgs/find1.png",alt:"find"}})]),s._v(" "),t("p",[s._v("从结果可知，这个命令会级联找出符合条件的文件。")]),s._v(" "),t("p",[s._v("下面几个是和文件时间属性有关的几个参数。在介绍这几个参数之前，我们有必要了解"),t("code",[s._v("linux")]),s._v("中的文件和时间有关的属性有哪些。总的说来，主要有"),t("code",[s._v("创建时间")]),s._v("，"),t("code",[s._v("编辑时间")]),s._v("，"),t("code",[s._v("访问时间")]),s._v("等。具体一点的描述如下：")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("Access time(atime)")]),s._v("：在读取或者执行文件的时候更改")]),s._v(" "),t("li",[t("code",[s._v("Modified time(mtime)")]),s._v("：在编辑文件时候更改")]),s._v(" "),t("li",[t("code",[s._v("Create time(ctime)")]),s._v("：在写入文件，更改文件所属信息，权限或者设置链接的时候随inode属性的更改而改变。")])]),s._v(" "),t("p",[s._v("可以通过"),t("code",[s._v("stat")]),s._v("命令来查看文件的上面三个属性")]),s._v(" "),t("p",[t("img",{attrs:{src:"/blog/linux-imgs/find3.png",alt:"find"}})]),s._v(" "),t("p",[s._v("所以，我们在查找文件的时候也是可以根据这三个属性进行查找的")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("-atime +n/-n")]),s._v("：找出atime时间大于或者小于n天的文件")]),s._v(" "),t("li",[t("strong",[s._v("-ctime +n/-n")]),s._v("：找出ctime时间大于或者小于n天的文件")]),s._v(" "),t("li",[t("strong",[s._v("-mtime +n/-n")]),s._v("：找出mtime时间大于或者小于n天的文件")])]),s._v(" "),t("div",{staticClass:"tip custom-block"},[t("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),t("p",[s._v("+n：表示大于n的时间")]),s._v(" "),t("p",[s._v("-n：表示小于n的时间")])]),s._v(" "),t("p",[s._v("比如找出"),t("code",[s._v("ctime")]),s._v("小于1天的文件")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{attrs:{class:"token function"}},[s._v("find")]),s._v(" demos -ctime -1\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"/blog/linux-imgs/find4.png",alt:"find"}})]),s._v(" "),t("p",[s._v("其它参数的用法类似")])])}],!1,null,null,null);v.options.__file="每天一点linux（四）.md";n.default=v.exports}}]);