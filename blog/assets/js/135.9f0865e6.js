(window.webpackJsonp=window.webpackJsonp||[]).push([[135],{166:function(s,a,t){"use strict";t.r(a);var n=t(0),e=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("div",{staticClass:"content"},[t("h1",[s._v("SSH")]),s._v(" "),t("h2",{attrs:{id:"ssh服务介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ssh服务介绍","aria-hidden":"true"}},[s._v("#")]),s._v(" SSH服务介绍")]),s._v(" "),t("p",[t("code",[s._v("SSH")]),s._v("服务起源于"),t("code",[s._v("telnet")]),s._v("服务。"),t("code",[s._v("telnet")]),s._v("服务就是远程命令行服务。"),t("code",[s._v("telnet")]),s._v("服务使用的是明文传输。")]),s._v(" "),t("h2",{attrs:{id:"ssh服务配置文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ssh服务配置文件","aria-hidden":"true"}},[s._v("#")]),s._v(" SSH服务配置文件")]),s._v(" "),t("p",[t("code",[s._v("SSH")]),s._v("服务的配置文件在"),t("code",[s._v("/etc/ssh/sshd_config")]),s._v("文件中，这个文件是服务端的配置文件。"),t("code",[s._v("/etc/ssh/ssh_config")]),s._v("是客户端的配置文件。")]),s._v(" "),t("p",[s._v("在"),t("code",[s._v("/etc/ssh/sshd_config")]),s._v("配置文件中有几个比较重跑的配置项")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{attrs:{class:"token comment"}},[s._v("# ssh服务的默认端口是22")]),s._v("\nPort 22\n"),t("span",{attrs:{class:"token comment"}},[s._v("# 是否允许root用户通过ssh服务登录服务器")]),s._v("\nPermitRootLogin "),t("span",{attrs:{class:"token function"}},[s._v("yes")]),s._v("\n"),t("span",{attrs:{class:"token comment"}},[s._v("# 秘钥的公钥的放置的位置")]),s._v("\nAuthorizedKeysFile .ssh/authorized_keys\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h2",{attrs:{id:"ssh命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ssh命令","aria-hidden":"true"}},[s._v("#")]),s._v(" SSH命令")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{attrs:{class:"token function"}},[s._v("ssh")]),s._v(" ip地址\n"),t("span",{attrs:{class:"token function"}},[s._v("ssh")]),s._v(" 用户@ip地址\n"),t("span",{attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -p 端口号"),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("默认22"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 用户@ip地址\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h2",{attrs:{id:"ssh公钥认证"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ssh公钥认证","aria-hidden":"true"}},[s._v("#")]),s._v(" SSH公钥认证")]),s._v(" "),t("h3",{attrs:{id:"密钥认证原理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#密钥认证原理","aria-hidden":"true"}},[s._v("#")]),s._v(" 密钥认证原理")]),s._v(" "),t("h3",{attrs:{id:"常用命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常用命令","aria-hidden":"true"}},[s._v("#")]),s._v(" 常用命令")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{attrs:{class:"token comment"}},[s._v("# 产生密钥")]),s._v("\nssh-keygen -t rsa\n"),t("span",{attrs:{class:"token comment"}},[s._v("# 将密钥拷贝到远程服务器上")]),s._v("\nssh-copy-id\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("➜ /Users/zhaosai "),t("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("ssh-copy-id -i ~/.ssh/id_rsa.pub root@106.13.108.56\n/usr/bin/ssh-copy-id: INFO: Source of key"),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" to be installed: "),t("span",{attrs:{class:"token string"}},[s._v('"/Users/zhaosai/.ssh/id_rsa.pub"')]),s._v("\n/usr/bin/ssh-copy-id: INFO: attempting to log "),t("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v(" with the new key"),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", to filter out any that are already installed\n/usr/bin/ssh-copy-id: INFO: 1 key"),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" remain to be installed -- "),t("span",{attrs:{class:"token keyword"}},[s._v("if")]),s._v(" you are prompted now it is to "),t("span",{attrs:{class:"token function"}},[s._v("install")]),s._v(" the new keys\nroot@106.13.108.56"),t("span",{attrs:{class:"token string"}},[s._v("'s password:\n.bashrc\n/etc/bashrc\n\nNumber of key(s) added:        1\n\nNow try logging into the machine, with:   \"ssh '")]),s._v("root@106.13.108.56'\"\nand check to "),t("span",{attrs:{class:"token function"}},[s._v("make")]),s._v(" sure that only the key"),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" you wanted were added.\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("h2",{attrs:{id:"scp和sftp远程拷贝文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#scp和sftp远程拷贝文件","aria-hidden":"true"}},[s._v("#")]),s._v(" scp和sftp远程拷贝文件")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{attrs:{class:"token comment"}},[s._v("# 将本地文件拷贝到远程")]),s._v("\n"),t("span",{attrs:{class:"token function"}},[s._v("scp")]),s._v(" 客户端本地文件 服务器用户名@服务器ip地址:服务器目录\n\n"),t("span",{attrs:{class:"token comment"}},[s._v("# 将远程文件拷贝到本地")]),s._v("\n"),t("span",{attrs:{class:"token function"}},[s._v("scp")]),s._v(" 服务器用户名@服务器ip地址:远程文件地址 本地存放目录地址\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])])])}],!1,null,null,null);e.options.__file="42-ssh.md";a.default=e.exports}}]);