(window.webpackJsonp=window.webpackJsonp||[]).push([[130],{171:function(s,a,n){"use strict";n.r(a);var t=n(0),e=Object(t.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("div",{staticClass:"content"},[n("h1",[s._v("awk介绍")]),s._v(" "),n("p",[n("code",[s._v("awk")]),s._v("相对于"),n("code",[s._v("sed")]),s._v("来说更像是脚本语言，它主要用于更加规范的文本处理，用于统计数量并输出指定字段。使用"),n("code",[s._v("sed")]),s._v("将不规范的文本，处理为“比较规范”的文本。")]),s._v(" "),n("p",[n("code",[s._v("awk")]),s._v("脚本的执行流程控制如下")]),s._v(" "),n("ul",[n("li",[s._v("输入数据前例程"),n("code",[s._v("BEGIN{}")]),s._v("。读入文件之前需要进行的操作")]),s._v(" "),n("li",[s._v("主输入循环"),n("code",[s._v("{}")]),s._v("。对每一行内容进行具体的操作")]),s._v(" "),n("li",[s._v("所有文件读取完成例程"),n("code",[s._v("END{}")])])]),s._v(" "),n("h2",{attrs:{id:"awk的字段引用和分离"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#awk的字段引用和分离","aria-hidden":"true"}},[s._v("#")]),s._v(" awk的字段引用和分离")]),s._v(" "),n("ul",[n("li",[s._v("每一行都被称作awk的一条记录")]),s._v(" "),n("li",[s._v("使用空格、制表符分隔开的单词称作字段")]),s._v(" "),n("li",[s._v("可以使用自己指定的分隔符分隔字段")])]),s._v(" "),n("h3",{attrs:{id:"字段的引用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#字段的引用","aria-hidden":"true"}},[s._v("#")]),s._v(" 字段的引用")]),s._v(" "),n("p",[n("code",[s._v("awk")]),s._v("中使用"),n("code",[s._v("$1 $2 ... $n")]),s._v("表示每一个字段")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v("'{print "),n("span",{attrs:{class:"token variable"}},[s._v("$1")]),s._v(","),n("span",{attrs:{class:"token variable"}},[s._v("$2")]),s._v(","),n("span",{attrs:{class:"token variable"}},[s._v("$3")]),s._v("}'")]),s._v(" filename\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[n("code",[s._v("awk")]),s._v("可以使用"),n("code",[s._v("-F")]),s._v("选项改变字段分隔符，分隔符是可以使用正则表达式的。")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token function"}},[s._v("awk")]),s._v(" -F "),n("span",{attrs:{class:"token string"}},[s._v("','")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v("'{print "),n("span",{attrs:{class:"token variable"}},[s._v("$1")]),s._v(","),n("span",{attrs:{class:"token variable"}},[s._v("$2")]),s._v(","),n("span",{attrs:{class:"token variable"}},[s._v("$3")]),s._v("}'")]),s._v(" filename\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("可以使用"),n("code",[s._v("$0")]),s._v("来显示整行的内容")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@instance-6w9riila ~"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{attrs:{class:"token comment"}},[s._v("# awk -F \"'\" '/^menu/{print $2}' /boot/grub2/grub.cfg")]),s._v("\nCentOS Linux 7 "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Core"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", with Linux 3.10.0-1062.4.1.el7.x86_64\nCentOS Linux 7 "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Core"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", with Linux 3.10.0-229.el7.x86_64\nCentOS Linux 7 "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Core"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", with Linux 0-rescue-08461fbb81ed47ada250940822d42dba\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@instance-6w9riila ~"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{attrs:{class:"token comment"}},[s._v("# awk -F \"'\" 'BEGIN{ x=0 } /^menu/{print ++x,$2}' /boot/grub2/grub.cfg")]),s._v("\n1 CentOS Linux 7 "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Core"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", with Linux 3.10.0-1062.4.1.el7.x86_64\n2 CentOS Linux 7 "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Core"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", with Linux 3.10.0-229.el7.x86_64\n3 CentOS Linux 7 "),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Core"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", with Linux 0-rescue-08461fbb81ed47ada250940822d42dba\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h2",{attrs:{id:"awk表达式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#awk表达式","aria-hidden":"true"}},[s._v("#")]),s._v(" awk表达式")]),s._v(" "),n("h3",{attrs:{id:"赋值操作符"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#赋值操作符","aria-hidden":"true"}},[s._v("#")]),s._v(" 赋值操作符")]),s._v(" "),n("p",[n("code",[s._v("=")]),s._v("是最常用的赋值操作符")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("var1"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),n("span",{attrs:{class:"token string"}},[s._v('"name"')]),s._v("\nvar2"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),n("span",{attrs:{class:"token string"}},[s._v('"hello"')]),s._v("\nvar3"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),n("span",{attrs:{class:"token variable"}},[s._v("$1")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("还有其他赋值操作符："),n("code",[s._v("++ -- += -= *= /= %= ^=")])]),s._v(" "),n("h3",{attrs:{id:"算数操作符"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#算数操作符","aria-hidden":"true"}},[s._v("#")]),s._v(" 算数操作符")]),s._v(" "),n("p",[s._v("最常用的就是"),n("code",[s._v("+ - * / %")])]),s._v(" "),n("h3",{attrs:{id:"系统变量"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#系统变量","aria-hidden":"true"}},[s._v("#")]),s._v(" 系统变量")]),s._v(" "),n("p",[n("code",[s._v("awk")]),s._v("可以也有自己的系统变量，主要有如下几个")]),s._v(" "),n("ul",[n("li",[n("code",[s._v("FS")]),s._v("和"),n("code",[s._v("OFS")]),s._v("字段分隔符，"),n("code",[s._v("FS")]),s._v("表示输入的字段分隔符，"),n("code",[s._v("OFS")]),s._v("表示输出的字段分隔符。")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@instance-6w9riila ~"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{attrs:{class:"token comment"}},[s._v("# head -5 /etc/passwd")]),s._v("\nroot:x:0:0:root:/root:/bin/bash\nbin:x:1:1:bin:/bin:/sbin/nologin\ndaemon:x:2:2:daemon:/sbin:/sbin/nologin\nadm:x:3:4:adm:/var/adm:/sbin/nologin\nlp:x:4:7:lp:/var/spool/lpd:/sbin/nologin\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@instance-6w9riila ~"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{attrs:{class:"token comment"}},[s._v("# head -5 /etc/passwd | awk -F ':' '{print $1}'")]),s._v("\nroot\nbin\ndaemon\nadm\nlp\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@instance-6w9riila ~"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{attrs:{class:"token comment"}},[s._v("# head -5 /etc/passwd | awk 'BEGIN{FS=\":\"}{print $1}'")]),s._v("\nroot\nbin\ndaemon\nadm\nlp\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("默认输出分隔符是"),n("code",[s._v("空格")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@instance-6w9riila ~"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{attrs:{class:"token comment"}},[s._v("# head -5 /etc/passwd | awk 'BEGIN{FS=\":\"}{print $1, $2}'")]),s._v("\nroot x\nbin x\ndaemon x\nadm x\nlp x\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("将输出分隔符更改为"),n("code",[s._v("-")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@instance-6w9riila ~"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{attrs:{class:"token comment"}},[s._v('# head -5 /etc/passwd | awk \'BEGIN{FS=":";OFS="-"}{print $1, $2}\'')]),s._v("\nroot-x\nbin-x\ndaemon-x\nadm-x\nlp-x\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("ul",[n("li",[n("code",[s._v("RS")]),s._v("用于记录分隔符")])]),s._v(" "),n("p",[n("code",[s._v("awk")]),s._v("默认以"),n("code",[s._v("\\n")]),s._v("作为分隔符确认每一行的内容。我们可以使用"),n("code",[s._v("RS")]),s._v("来改变。下面的例子就是将记录分隔符更改为"),n("code",[s._v(":")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@instance-6w9riila ~"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{attrs:{class:"token comment"}},[s._v("# head -5 /etc/passwd | awk 'BEGIN{RS=\":\"}{print $1, $2}'")]),s._v("\nroot\nx\n0\n0\nroot\n/root\n/bin/bash bin\nx\n1\n1\nbin\n/bin\n/sbin/nologin daemon\nx\n2\n2\ndaemon\n/sbin\n/sbin/nologin adm\nx\n3\n4\nadm\n/var/adm\n/sbin/nologin lp\nx\n4\n7\nlp\n/var/spool/lpd\n/sbin/nologin\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br")])]),n("ul",[n("li",[n("code",[s._v("NR")]),s._v("和"),n("code",[s._v("FNR")]),s._v("表示行号")])]),s._v(" "),n("p",[s._v("当文件的内容发生变化的时候"),n("code",[s._v("NR")]),s._v("不会进行重排，"),n("code",[s._v("FNR")]),s._v("会进行重排。")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@instance-6w9riila ~"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{attrs:{class:"token comment"}},[s._v("# head -5 /etc/passwd | awk '{print NR}'")]),s._v("\n1\n2\n3\n4\n5\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@instance-6w9riila ~"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{attrs:{class:"token comment"}},[s._v("# head -5 /etc/passwd | awk '{print NR,$0}'")]),s._v("\n1 root:x:0:0:root:/root:/bin/bash\n2 bin:x:1:1:bin:/bin:/sbin/nologin\n3 daemon:x:2:2:daemon:/sbin:/sbin/nologin\n4 adm:x:3:4:adm:/var/adm:/sbin/nologin\n5 lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@instance-6w9riila ~"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{attrs:{class:"token comment"}},[s._v("# head -5 /etc/passwd | awk '{print FNR,$0}'")]),s._v("\n1 root:x:0:0:root:/root:/bin/bash\n2 bin:x:1:1:bin:/bin:/sbin/nologin\n3 daemon:x:2:2:daemon:/sbin:/sbin/nologin\n4 adm:x:3:4:adm:/var/adm:/sbin/nologin\n5 lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@instance-6w9riila ~"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{attrs:{class:"token comment"}},[s._v("# awk '{print FNR,$0}' /etc/hosts /etc/hosts")]),s._v("\n1 127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4\n2 ::1         localhost localhost.localdomain localhost6 localhost6.localdomain6\n3 172.16.0.4 instance-6w9riila instance-6w9riila.novalocal\n1 127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4\n2 ::1         localhost localhost.localdomain localhost6 localhost6.localdomain6\n3 172.16.0.4 instance-6w9riila instance-6w9riila.novalocal\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@instance-6w9riila ~"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{attrs:{class:"token comment"}},[s._v("# awk '{print NR,$0}' /etc/hosts /etc/hosts")]),s._v("\n1 127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4\n2 ::1         localhost localhost.localdomain localhost6 localhost6.localdomain6\n3 172.16.0.4 instance-6w9riila instance-6w9riila.novalocal\n4 127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4\n5 ::1         localhost localhost.localdomain localhost6 localhost6.localdomain6\n6 172.16.0.4 instance-6w9riila instance-6w9riila.novalocal\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("ul",[n("li",[n("code",[s._v("NF")]),s._v("表示字段数量，最后一个字段的内容可以使用"),n("code",[s._v("$NF")]),s._v("获取")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@instance-6w9riila ~"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{attrs:{class:"token comment"}},[s._v("# head -5 /etc/passwd | awk '{print NF,$0}'")]),s._v("\n1 root:x:0:0:root:/root:/bin/bash\n1 bin:x:1:1:bin:/bin:/sbin/nologin\n1 daemon:x:2:2:daemon:/sbin:/sbin/nologin\n1 adm:x:3:4:adm:/var/adm:/sbin/nologin\n1 lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@instance-6w9riila ~"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{attrs:{class:"token comment"}},[s._v("# head -5 /etc/passwd | awk 'BEGIN{FS=\":\"}{print NF}'")]),s._v("\n7\n7\n7\n7\n7\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@instance-6w9riila ~"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{attrs:{class:"token comment"}},[s._v("# head -5 /etc/passwd | awk 'BEGIN{FS=\":\"}{print NF, $NF}'")]),s._v("\n7 /bin/bash\n7 /sbin/nologin\n7 /sbin/nologin\n7 /sbin/nologin\n7 /sbin/nologin\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("h3",{attrs:{id:"关系操作符"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#关系操作符","aria-hidden":"true"}},[s._v("#")]),s._v(" 关系操作符")]),s._v(" "),n("p",[n("code",[s._v("> < <= >= == != ~ !~")])]),s._v(" "),n("h3",{attrs:{id:"布尔操作符"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#布尔操作符","aria-hidden":"true"}},[s._v("#")]),s._v(" 布尔操作符")]),s._v(" "),n("p",[n("code",[s._v("&& || !")])])])}],!1,null,null,null);e.options.__file="37-awk介绍.md";a.default=e.exports}}]);