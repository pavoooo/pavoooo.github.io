<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>超长typescript记录 | 赛赛的空间</title>
    <meta name="description" content="赵赛赛个人博客，关注前端技术，后端技术，喜欢编程。每天进步一点点就好啦！">
    <link rel="icon" type="image/x-icon" href="/blog/favicon.ico">
  <script type="text/javascript" src="/blog/bdtj.js"></script>
    
    <link rel="preload" href="/blog/assets/css/0.styles.626dd732.css" as="style"><link rel="preload" href="/blog/assets/js/app.08ed72a4.js" as="script"><link rel="preload" href="/blog/assets/js/57.45fe5cf0.js" as="script"><link rel="prefetch" href="/blog/assets/js/48.8b466e38.js"><link rel="prefetch" href="/blog/assets/js/2.285762ea.js"><link rel="prefetch" href="/blog/assets/js/3.905a5a4f.js"><link rel="prefetch" href="/blog/assets/js/4.83d5b994.js"><link rel="prefetch" href="/blog/assets/js/5.70a161e3.js"><link rel="prefetch" href="/blog/assets/js/6.1832537e.js"><link rel="prefetch" href="/blog/assets/js/7.303213d4.js"><link rel="prefetch" href="/blog/assets/js/8.9dd8d28a.js"><link rel="prefetch" href="/blog/assets/js/9.a9cee1f5.js"><link rel="prefetch" href="/blog/assets/js/10.7e342970.js"><link rel="prefetch" href="/blog/assets/js/11.7fba4b3f.js"><link rel="prefetch" href="/blog/assets/js/12.b937cf1a.js"><link rel="prefetch" href="/blog/assets/js/13.d02a1f0a.js"><link rel="prefetch" href="/blog/assets/js/14.1b4ba5c7.js"><link rel="prefetch" href="/blog/assets/js/15.9c732350.js"><link rel="prefetch" href="/blog/assets/js/16.b4fdaf88.js"><link rel="prefetch" href="/blog/assets/js/17.83f1d120.js"><link rel="prefetch" href="/blog/assets/js/18.e6f1a512.js"><link rel="prefetch" href="/blog/assets/js/19.0994a802.js"><link rel="prefetch" href="/blog/assets/js/20.a51d66b0.js"><link rel="prefetch" href="/blog/assets/js/21.cab58b18.js"><link rel="prefetch" href="/blog/assets/js/22.a9183795.js"><link rel="prefetch" href="/blog/assets/js/23.fbe224c6.js"><link rel="prefetch" href="/blog/assets/js/24.9da4875a.js"><link rel="prefetch" href="/blog/assets/js/25.d8cc83fc.js"><link rel="prefetch" href="/blog/assets/js/26.c3cf215f.js"><link rel="prefetch" href="/blog/assets/js/27.a873a1d9.js"><link rel="prefetch" href="/blog/assets/js/28.389cc7e0.js"><link rel="prefetch" href="/blog/assets/js/29.bcf701fb.js"><link rel="prefetch" href="/blog/assets/js/30.5c19aea1.js"><link rel="prefetch" href="/blog/assets/js/31.0e53cdad.js"><link rel="prefetch" href="/blog/assets/js/32.d4b7a997.js"><link rel="prefetch" href="/blog/assets/js/33.50f85369.js"><link rel="prefetch" href="/blog/assets/js/34.a1c08037.js"><link rel="prefetch" href="/blog/assets/js/35.5c132fcc.js"><link rel="prefetch" href="/blog/assets/js/36.974132f3.js"><link rel="prefetch" href="/blog/assets/js/37.7f65b215.js"><link rel="prefetch" href="/blog/assets/js/38.b79c6bab.js"><link rel="prefetch" href="/blog/assets/js/39.a558e5b4.js"><link rel="prefetch" href="/blog/assets/js/40.95600df8.js"><link rel="prefetch" href="/blog/assets/js/41.be5fd9a5.js"><link rel="prefetch" href="/blog/assets/js/42.e5992b1e.js"><link rel="prefetch" href="/blog/assets/js/43.ccfcd9bb.js"><link rel="prefetch" href="/blog/assets/js/44.498603b9.js"><link rel="prefetch" href="/blog/assets/js/45.2e7d85b8.js"><link rel="prefetch" href="/blog/assets/js/46.7d776da3.js"><link rel="prefetch" href="/blog/assets/js/47.054c98ea.js"><link rel="prefetch" href="/blog/assets/js/49.70a9663e.js"><link rel="prefetch" href="/blog/assets/js/50.f4d36d69.js"><link rel="prefetch" href="/blog/assets/js/51.64824257.js"><link rel="prefetch" href="/blog/assets/js/52.d81a35f3.js"><link rel="prefetch" href="/blog/assets/js/53.2f055425.js"><link rel="prefetch" href="/blog/assets/js/54.1a35cc77.js"><link rel="prefetch" href="/blog/assets/js/55.f9a5b109.js"><link rel="prefetch" href="/blog/assets/js/56.8e9faa0c.js"><link rel="prefetch" href="/blog/assets/js/58.91b03488.js"><link rel="prefetch" href="/blog/assets/js/59.6f119442.js"><link rel="prefetch" href="/blog/assets/js/60.ffefa8b4.js"><link rel="prefetch" href="/blog/assets/js/61.ba323d1f.js"><link rel="prefetch" href="/blog/assets/js/62.64cf738b.js"><link rel="prefetch" href="/blog/assets/js/63.ae1dfb01.js"><link rel="prefetch" href="/blog/assets/js/64.ce8508a6.js"><link rel="prefetch" href="/blog/assets/js/65.319207d6.js"><link rel="prefetch" href="/blog/assets/js/66.ec846d39.js"><link rel="prefetch" href="/blog/assets/js/67.601c5a4a.js"><link rel="prefetch" href="/blog/assets/js/68.8544ce83.js"><link rel="prefetch" href="/blog/assets/js/69.33ef60e3.js"><link rel="prefetch" href="/blog/assets/js/70.c2b6bcb1.js"><link rel="prefetch" href="/blog/assets/js/71.0587501c.js"><link rel="prefetch" href="/blog/assets/js/72.4b0d155a.js"><link rel="prefetch" href="/blog/assets/js/73.52b59ff6.js"><link rel="prefetch" href="/blog/assets/js/74.29827d15.js"><link rel="prefetch" href="/blog/assets/js/75.120c3a2c.js"><link rel="prefetch" href="/blog/assets/js/76.28ddc983.js"><link rel="prefetch" href="/blog/assets/js/77.2439db60.js"><link rel="prefetch" href="/blog/assets/js/78.98bacdd2.js"><link rel="prefetch" href="/blog/assets/js/79.e4501fc2.js"><link rel="prefetch" href="/blog/assets/js/80.d1675cdc.js"><link rel="prefetch" href="/blog/assets/js/81.cbdc61b3.js"><link rel="prefetch" href="/blog/assets/js/82.1442c754.js"><link rel="prefetch" href="/blog/assets/js/83.1179fca4.js"><link rel="prefetch" href="/blog/assets/js/84.6074052c.js"><link rel="prefetch" href="/blog/assets/js/85.bd33532d.js"><link rel="prefetch" href="/blog/assets/js/86.7b6a309c.js"><link rel="prefetch" href="/blog/assets/js/87.216fdc58.js"><link rel="prefetch" href="/blog/assets/js/88.a5b613fe.js"><link rel="prefetch" href="/blog/assets/js/89.b6f8827a.js"><link rel="prefetch" href="/blog/assets/js/90.6e501637.js"><link rel="prefetch" href="/blog/assets/js/91.0ba17d14.js"><link rel="prefetch" href="/blog/assets/js/92.5f6d7257.js"><link rel="prefetch" href="/blog/assets/js/93.a0306ae6.js"><link rel="prefetch" href="/blog/assets/js/94.09e1768b.js"><link rel="prefetch" href="/blog/assets/js/95.fc13b9cb.js"><link rel="prefetch" href="/blog/assets/js/96.ddf6c53c.js"><link rel="prefetch" href="/blog/assets/js/97.57a1e9e2.js"><link rel="prefetch" href="/blog/assets/js/98.5ada007a.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.626dd732.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link"><img src="/blog/logo.png" alt="赛赛的空间" class="logo"> <span class="site-name can-hide">赛赛的空间</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">我的文章</a></div><div class="nav-item"><a href="/blog/dive-into-code.html" class="nav-link">前端攻坚战</a></div><div class="nav-item"><a href="/blog/good-writings.html" class="nav-link">阅读的好文</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">记录</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/linux.html" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/blog/translate.html" class="nav-link">翻译</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/zhaosaisai" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">我的文章</a></div><div class="nav-item"><a href="/blog/dive-into-code.html" class="nav-link">前端攻坚战</a></div><div class="nav-item"><a href="/blog/good-writings.html" class="nav-link">阅读的好文</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">记录</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/linux.html" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/blog/translate.html" class="nav-link">翻译</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/zhaosaisai" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <!----> </div> <div class="page"> <div class="content"><h1>超长typescript记录</h1> <h2 id="typescript介绍"><a href="#typescript介绍" aria-hidden="true" class="header-anchor">#</a> Typescript介绍</h2> <ul><li><code>Typescript</code>是一款由微软开发的一款开源的编程语言</li> <li><code>Typescript</code>是<code>javascript</code>的超集，遵循<code>ES6</code>，<code>ES5</code>规范。<code>Typescript</code>扩展了<code>javascript</code>的语法</li> <li><code>Typescript</code>在语法上更像<code>Java</code>，<code>C#</code>等强面向对象的语言</li></ul> <p>在语法上，<code>Typescript</code> &gt; <code>Es6</code> &gt; <code>Es5</code>。</p> <h2 id="typescript安装"><a href="#typescript安装" aria-hidden="true" class="header-anchor">#</a> typescript安装</h2> <p>在使用<code>Typescript</code>之前，我们首先做的是安装<code>Typescript</code>。如果你选择全局安装</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> typescript -g
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在安装成功后，就可以使用<code>tsc</code>命令来编译<code>.ts</code>文件</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">which</span> tsc

tsc hello.ts
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>当然，这种开发方式还是比较痛苦的，因为每次文件改变后，我们都要尝试重新构建。为了能够自动构建我们的<code>.ts</code>文件，我们可以尝试对编辑器<code>vscode</code>作如下配置</p> <ul><li>在项目根目录下运行<code>tsc --init</code>生成<code>tsconfig.json</code>文件。关于<code>tsconfig.json</code>文件，后面会作详细的介绍。</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>tsc --init
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>点击编辑器<code>菜单 -&gt; 任务 -&gt; 运行任务 -&gt; tsc:监视-tsconfig.json</code>。操作完成后，每次文件的改变都会触发<code>ts</code>的自动编译。</li></ul> <blockquote><p>可以通过<code>菜单 -&gt; 任务 -&gt; 结束任务 -&gt; tsc:监视-tsconfig.json</code>停止对文件的监听</p></blockquote> <p>除了上述开发方式外，目前比较主流的就是将<code>Typescript</code>和<code>webpack</code>进行集成。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span>
  test<span class="token punctuation">:</span> <span class="token regex">/\.ts$/</span><span class="token punctuation">,</span>
  loader<span class="token punctuation">:</span> <span class="token string">'awesome-typescript-loader'</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="数据类型"><a href="#数据类型" aria-hidden="true" class="header-anchor">#</a> 数据类型</h2> <p><code>typescript</code>为了使编写的代码更加规范，更易于维护，增加了类型校验。类型校验其实就是在声明变量的时候明确其类型，类型一旦确定，便不能更改。建议我们在<code>typescript</code>项目中声明变量的时候明确其类型。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> str<span class="token punctuation">:</span> string <span class="token operator">=</span> <span class="token string">'this is a string'</span>

str <span class="token operator">=</span> <span class="token string">'hello world'</span>
str <span class="token operator">=</span> <span class="token number">123</span> <span class="token comment">// 类型校验无法通过</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>前面我们提到过<code>typescript</code>是<code>javascript</code>的超集，所以，<code>typescript</code>中的数据类型可以分为两类。一类是<code>javascript</code>本身就具备的，比如：</p> <ul><li>布尔类型(boolean)</li> <li>字符串类型(number)</li> <li>数字类型(number)</li> <li>数组类型(array)</li> <li>null和undefined</li></ul> <p>另一类就是<code>typescript</code>给我们提供的类型，比如</p> <ul><li>元组类型(tuple)</li> <li>枚举类型(enum)</li> <li>任意类型(any)</li> <li>void类型</li> <li>never类型</li></ul> <h3 id="基本类型"><a href="#基本类型" aria-hidden="true" class="header-anchor">#</a> 基本类型</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 声明一个布尔类型</span>
<span class="token keyword">const</span> bool<span class="token punctuation">:</span> boolean <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token comment">// 声明一个数字类型</span>
<span class="token keyword">const</span> num<span class="token punctuation">:</span> number <span class="token operator">=</span> <span class="token number">123</span>
<span class="token comment">// 声明一个字符串类型</span>
<span class="token keyword">const</span> str<span class="token punctuation">:</span> string <span class="token operator">=</span> <span class="token string">'hello world'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="数组类型"><a href="#数组类型" aria-hidden="true" class="header-anchor">#</a> 数组类型</h3> <p><code>数组类型</code>是一种复合数据类型，定义的时候一般同时指定数组中元素的类型。在<code>ts</code>中定义数组有两种方式</p> <ol><li><code>const 变量名: 元素类型[] = 值</code></li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 表示数组中所有的元素都是number类型</span>
<span class="token keyword">const</span> arr<span class="token punctuation">:</span> number<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="2"><li><code>const 变量名：Array&lt;元素类型&gt; = 值</code></li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> arr2<span class="token punctuation">:</span> Array<span class="token operator">&lt;</span>number<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>可以将元素类型指定为<code>any</code>，则数组中可以存在任意类型的元素。</p> <h3 id="元组类型"><a href="#元组类型" aria-hidden="true" class="header-anchor">#</a> 元组类型</h3> <p><code>元组类型</code>是<code>ts</code>提供的一种数据类型，从本质上说它也是数组的一种。它在定义的时候需要明确的指定数组中每个元素对应的类型，这也就直接确定了数组中元素的个数。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 定义一个 第一个元素是字符串，第二个元素是数字</span>
<span class="token keyword">const</span> tuple<span class="token punctuation">:</span> <span class="token punctuation">[</span>string<span class="token punctuation">,</span> number<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'id'</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">]</span>

<span class="token keyword">const</span> tuple<span class="token punctuation">:</span> <span class="token punctuation">[</span>string<span class="token punctuation">,</span> number<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'id'</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">]</span> <span class="token comment">// 错误，长度不匹配</span>

<span class="token keyword">const</span> tuple<span class="token punctuation">:</span> <span class="token punctuation">[</span>string<span class="token punctuation">,</span> number<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">]</span> <span class="token comment">// 错误，类型不匹配</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="枚举类型"><a href="#枚举类型" aria-hidden="true" class="header-anchor">#</a> 枚举类型</h3> <p><code>枚举类型</code>数据是<code>枚举法</code>在<code>ts</code>中的一种应用，所谓的<code>枚举</code>就是对所声明的变量明确指定能取哪些值。<code>ts</code>中使用<code>enum</code>关键字来声明枚举类型变量。基本格式如下</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">enum</span> 枚举名称<span class="token punctuation">{</span>
  标识符<span class="token punctuation">[</span><span class="token operator">=</span>整型常数<span class="token punctuation">]</span><span class="token punctuation">,</span>
  标识符<span class="token punctuation">[</span><span class="token operator">=</span>整型常数<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token operator">...</span>
  标识符<span class="token punctuation">[</span><span class="token operator">=</span>整型常数<span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>比如：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">enum</span> Flag <span class="token punctuation">{</span>
  success<span class="token punctuation">,</span>
  error
<span class="token punctuation">}</span>

<span class="token keyword">const</span> success<span class="token punctuation">:</span> Flag <span class="token operator">=</span> Flag<span class="token punctuation">.</span>success <span class="token comment">// 0</span>
<span class="token keyword">const</span> error<span class="token punctuation">:</span> Flag <span class="token operator">=</span> Flag<span class="token punctuation">.</span>error <span class="token comment">// 1</span>
<span class="token keyword">const</span> any <span class="token operator">=</span> Flag<span class="token punctuation">.</span>success <span class="token comment">// 0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>也可以在声明枚举类型的时候设置枚举值</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">enum</span> Status <span class="token punctuation">{</span>
  notFound <span class="token operator">=</span> <span class="token number">404</span><span class="token punctuation">,</span>
  success <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">,</span>
  forbidden <span class="token operator">=</span> <span class="token number">413</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> notFound<span class="token punctuation">:</span> Status <span class="token operator">=</span> Status<span class="token punctuation">.</span>notFound <span class="token comment">// 404</span>
<span class="token keyword">const</span> success<span class="token punctuation">:</span> Status <span class="token operator">=</span> Status<span class="token punctuation">.</span>success <span class="token comment">// 200</span>
<span class="token keyword">const</span> forbidden<span class="token punctuation">:</span> Status <span class="token operator">=</span> Status<span class="token punctuation">.</span>forbidden <span class="token comment">// 413</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>在声明枚举类型的时候有一件事需要特别注意，默认枚举类型值从0依次递增，如果你为某个元素设定了值，则后面的元素依照此元素递增。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">enum</span> Num <span class="token punctuation">{</span>
  a<span class="token punctuation">,</span>
  b<span class="token punctuation">,</span>
  c
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Num<span class="token punctuation">.</span>a<span class="token punctuation">,</span> Num<span class="token punctuation">.</span>b<span class="token punctuation">,</span> Num<span class="token punctuation">.</span>c<span class="token punctuation">)</span> <span class="token comment">// 0, 1, 2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">enum</span> Num <span class="token punctuation">{</span>
  a<span class="token punctuation">,</span>
  b <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span>
  c
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Num<span class="token punctuation">.</span>a<span class="token punctuation">,</span> Num<span class="token punctuation">.</span>b<span class="token punctuation">,</span> Num<span class="token punctuation">.</span>c<span class="token punctuation">)</span> <span class="token comment">// 0, 3, 4</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">enum</span> Num <span class="token punctuation">{</span>
  a<span class="token punctuation">,</span>
  b <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>
  c
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Num<span class="token punctuation">.</span>a<span class="token punctuation">,</span> Num<span class="token punctuation">.</span>b<span class="token punctuation">,</span> Num<span class="token punctuation">.</span>c<span class="token punctuation">)</span> <span class="token comment">// 0, -1, 0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">enum</span> Num <span class="token punctuation">{</span>
  a<span class="token punctuation">,</span>
  b <span class="token operator">=</span> <span class="token string">'string'</span><span class="token punctuation">,</span>
  c
<span class="token punctuation">}</span>

<span class="token comment">// 这种情况下，ts也会抛出 Enum member must have initializer(枚举成员必须具有初始化表达式) 的错误</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Num<span class="token punctuation">.</span>a<span class="token punctuation">,</span> Num<span class="token punctuation">.</span>b<span class="token punctuation">,</span> Num<span class="token punctuation">.</span>c<span class="token punctuation">)</span> <span class="token comment">// 0, 'string', undefined</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="任意类型"><a href="#任意类型" aria-hidden="true" class="header-anchor">#</a> 任意类型</h3> <p><code>任意类型</code>在<code>ts</code>中用<code>any</code>表示，这种类型的数据可以被赋值为各种类型的变量。你就可以认为被声明为这种类型的变量和未加任何类型校验的变量是一样的。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> any<span class="token punctuation">:</span> any <span class="token operator">=</span> <span class="token string">'hello world'</span>

<span class="token comment">// 下面的赋值都是合法的</span>
any <span class="token operator">=</span> <span class="token number">123</span>
any <span class="token operator">=</span> <span class="token boolean">true</span>
any <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><code>any</code>类型最常用于声明那些属性无法预知的对象。比如</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> axios <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'axios'</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> result<span class="token punctuation">:</span> any <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>data<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="空类型"><a href="#空类型" aria-hidden="true" class="header-anchor">#</a> 空类型</h3> <p>空类型主要包含<code>null</code>和<code>undefined</code>。它们是<code>never</code>类型的字类型。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 可同时指定多种类型。对于无法确定初始值的变量，可以使用下面的类型声明</span>
<span class="token keyword">const</span> num<span class="token punctuation">:</span> number <span class="token operator">|</span> undefined<span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>

<span class="token comment">// 一个元素可能是 undefined null 或者string类型</span>
<span class="token keyword">const</span> str<span class="token punctuation">:</span> string <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">|</span> undefined<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="void类型"><a href="#void类型" aria-hidden="true" class="header-anchor">#</a> void类型</h3> <p><code>void类型</code>使用<code>void</code>表示，一般用在定义方法的时候没有任何返回值。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 下面用来声明函数返回值的类型</span>
<span class="token keyword">function</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
  <span class="token comment">// 没有任何返回值</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">say1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">'hello'</span> <span class="token comment">// ts会抛出错误</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="never类型"><a href="#never类型" aria-hidden="true" class="header-anchor">#</a> never类型</h3> <p><code>never类型</code>用于指定不会出现任何值（比如抛出错误）。声明<code>never</code>类型的变量只能被<code>never</code>类型所赋值。一般不长使用</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> undef<span class="token punctuation">:</span> undefined<span class="token punctuation">;</span>

<span class="token comment">// undef 只能被赋值为 undefined</span>
undef <span class="token operator">=</span> undefined
undef <span class="token operator">=</span> <span class="token number">123</span> <span class="token comment">// 会报错</span>

<span class="token keyword">let</span> n<span class="token punctuation">:</span> <span class="token keyword">null</span>

<span class="token comment">// n 只能被赋值为null</span>
n <span class="token operator">=</span> <span class="token keyword">null</span>
n <span class="token operator">=</span> <span class="token string">'hello'</span><span class="token comment">// 会报错</span>

<span class="token keyword">let</span> a<span class="token punctuation">:</span>never<span class="token punctuation">;</span>

a <span class="token operator">=</span> <span class="token number">1</span> <span class="token comment">// 会报错</span>

<span class="token comment">// 正确</span>
a <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h2 id="函数"><a href="#函数" aria-hidden="true" class="header-anchor">#</a> 函数</h2> <p><code>ts</code>中的函数相对于<code>js</code>中的函数增加了在定义的时候添加类型校验的功能。类型校验主要添加在<strong>参数</strong>和<strong>返回值</strong>上。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span>n1<span class="token punctuation">:</span> number<span class="token punctuation">,</span> n2<span class="token punctuation">:</span> number<span class="token punctuation">)</span><span class="token punctuation">:</span> number <span class="token punctuation">{</span>
  <span class="token keyword">return</span> n1 <span class="token operator">+</span> n2
<span class="token punctuation">}</span>

<span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>

<span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'hello'</span><span class="token punctuation">)</span> <span class="token comment">// ts 编译会报错</span>
<span class="token function">sumn</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// ts 编译也会报错</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>当然，匿名函数也是可以的</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> sum <span class="token operator">=</span> <span class="token punctuation">(</span>n1<span class="token punctuation">:</span> number<span class="token punctuation">,</span> n2<span class="token punctuation">:</span> number<span class="token punctuation">)</span><span class="token punctuation">:</span> number <span class="token operator">=&gt;</span> n1 <span class="token operator">+</span> n2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="可选参数"><a href="#可选参数" aria-hidden="true" class="header-anchor">#</a> 可选参数</h3> <p>在<code>js</code>中声明的函数，形参和实参的类型和数量是没有严格限制的。但是在<code>ts</code>中定义的参数，形参和实参的类型和数量必须相等。如果不想等，可以通过可选参数声明。<code>ts</code>中可选参数的声明方式为<code>参数名称?:参数类型</code></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">getInfo</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> string<span class="token punctuation">,</span> subName<span class="token operator">?</span><span class="token punctuation">:</span>string<span class="token punctuation">)</span><span class="token punctuation">:</span> string <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>subName <span class="token operator">||</span> <span class="token string">''</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span>
<span class="token punctuation">}</span>

<span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token string">'saisai'</span><span class="token punctuation">)</span>

<span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token string">'saisai'</span><span class="token punctuation">,</span> <span class="token string">'zsee'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><blockquote><p>可选参数必须放在形参末尾</p></blockquote> <h3 id="默认参数"><a href="#默认参数" aria-hidden="true" class="header-anchor">#</a> 默认参数</h3> <p><code>ts</code>中设置默认参数的方式和<code>es6</code>中基本相同</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">getInfo</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span>string<span class="token punctuation">,</span> subName<span class="token punctuation">:</span> string <span class="token operator">=</span> <span class="token string">'zsee'</span><span class="token punctuation">)</span><span class="token punctuation">:</span> string <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>subName <span class="token operator">||</span> <span class="token string">''</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span>
<span class="token punctuation">}</span>

<span class="token comment">// 下面两种调用返回的结果相同</span>
<span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token string">'saisai'</span><span class="token punctuation">)</span>

<span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token string">'saisai'</span><span class="token punctuation">,</span> <span class="token string">'zsee'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="剩余参数"><a href="#剩余参数" aria-hidden="true" class="header-anchor">#</a> 剩余参数</h3> <p><code>ts</code>中设置剩余参数的方式和<code>es6</code>中基本相同</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">getInfo</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> string<span class="token punctuation">,</span> <span class="token operator">...</span>rest<span class="token punctuation">)</span><span class="token punctuation">:</span> string <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>rest<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token string">'saisai'</span><span class="token punctuation">,</span> <span class="token string">'zsee'</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">,</span> <span class="token string">'ss'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>也可以声明剩余参数中每个参数的类型</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">getInfo</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> string<span class="token punctuation">,</span> <span class="token operator">...</span>rest<span class="token punctuation">:</span> string<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span> string <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>rest<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token string">'saisai'</span><span class="token punctuation">,</span> <span class="token string">'zsee'</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">,</span> <span class="token string">'ss'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// ts 编译报错</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="函数重载"><a href="#函数重载" aria-hidden="true" class="header-anchor">#</a> 函数重载</h3> <p><code>重载</code>是指两个或两个以上同名的函数，但它们的参数不一样，这时会出现参数重载的情况。<code>ts</code>中的<code>重载</code>是指通过为一个函数提供多个函数类型定义来完成不同的目的。<code>ts</code>中的函数重载你就可以认为是预先对参数的类型进行了限制。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 定义基本的函数重载类型</span>
<span class="token keyword">function</span> <span class="token function">getInfo</span><span class="token punctuation">(</span>param<span class="token punctuation">:</span> string<span class="token punctuation">)</span><span class="token punctuation">:</span> string<span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">getInfo</span><span class="token punctuation">(</span>param<span class="token punctuation">:</span> number<span class="token punctuation">)</span><span class="token punctuation">:</span> number<span class="token punctuation">;</span>

<span class="token comment">// 调用前会进行参数的判断</span>
<span class="token keyword">function</span> <span class="token function">getInfo</span><span class="token punctuation">(</span>str<span class="token punctuation">:</span> any<span class="token punctuation">)</span><span class="token punctuation">:</span> any <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token string">'hello world'</span><span class="token punctuation">)</span>
<span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span>

<span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token comment">// ts 编译会报错</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="类"><a href="#类" aria-hidden="true" class="header-anchor">#</a> 类</h2> <p><code>ts</code>中的类通过<code>class</code>关键字定义，但其功能比<code>es6</code>语法更加强大。下面是一个简单的类的定义</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token comment">// 构造函数</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> string<span class="token punctuation">,</span> age<span class="token punctuation">:</span> number<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
  <span class="token punctuation">}</span>
  <span class="token comment">// 定义name属性</span>
  name<span class="token punctuation">:</span> string<span class="token punctuation">;</span>

  <span class="token comment">// 定义age属性</span>
  age<span class="token punctuation">:</span> number<span class="token punctuation">;</span>

  <span class="token comment">// 定义一个方法</span>
  <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> string <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'saisai'</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token number">24</span><span class="token punctuation">,</span> <span class="token string">'saisai'</span><span class="token punctuation">)</span> <span class="token comment">// ts 编译会报错</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="修饰符"><a href="#修饰符" aria-hidden="true" class="header-anchor">#</a> 修饰符</h3> <p><code>typescript</code>中的<code>class</code>提供了三种类修饰符：<code>public</code>，<code>protected</code>，<code>private</code></p> <ul><li><strong>public</strong>：公有属性和方法，在类和子类中以及类外都能访问的属性和方法</li> <li><strong>protected</strong>：保护属性和方法，在类和子类中可以访问，类外无法访问</li> <li><strong>private</strong>：私有属性和方法，在类中可以访问，子类和类外是无法访问的。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token comment">// 公有属性</span>
  <span class="token keyword">public</span> name<span class="token punctuation">:</span> string<span class="token punctuation">;</span>
  <span class="token comment">// 保护属性</span>
  <span class="token keyword">protected</span> height<span class="token punctuation">:</span> number<span class="token punctuation">;</span>
  <span class="token comment">// 私有属性</span>
  <span class="token keyword">private</span> age<span class="token punctuation">:</span> number<span class="token punctuation">;</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> string<span class="token punctuation">,</span> height<span class="token punctuation">:</span> number<span class="token punctuation">,</span> age<span class="token punctuation">:</span> number<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">=</span> height<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 共有方法</span>
  <span class="token keyword">public</span> <span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> string <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name
  <span class="token punctuation">}</span>

  <span class="token comment">// 保护方法</span>
  <span class="token keyword">protected</span> <span class="token function">sayHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> number <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>height
  <span class="token punctuation">}</span>

  <span class="token comment">// 私有方法</span>
  <span class="token keyword">private</span> <span class="token function">sayAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> number <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'saisai'</span><span class="token punctuation">,</span> <span class="token number">180</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span><span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span><span class="token function">sayHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [ts] 属性“sayHeight”受保护，只能在类“Person”及其子类中访问。</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span><span class="token function">sayAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [ts] 属性“sayAge”为私有属性，只能在类“Person”中访问。</span>

<span class="token comment">// 子类中的现象也是如此</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><h3 id="静态属性和静态方法"><a href="#静态属性和静态方法" aria-hidden="true" class="header-anchor">#</a> 静态属性和静态方法</h3> <p><code>静态属性</code>和<code>静态方法</code>是直接定义在类上面，访问的时候也需要通过类去访问。<code>静态属性</code>和<code>静态方法</code>需要通过关键字<code>static</code>去定义。静态方法中的<code>this</code>指向<code>类</code>本身。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> name<span class="token punctuation">:</span> string<span class="token punctuation">;</span>

  <span class="token comment">// 静态方法</span>
  <span class="token keyword">static</span> staticName<span class="token punctuation">:</span> string<span class="token punctuation">;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> string<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 实例属性</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
  <span class="token punctuation">}</span>

  <span class="token comment">// 实例方法</span>
  <span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> string <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name
  <span class="token punctuation">}</span>

  <span class="token comment">// 静态方法</span>
  <span class="token keyword">static</span> <span class="token function">sayStaticName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> string <span class="token punctuation">{</span>
    <span class="token comment">// 这里的 this 指向类本身</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>staticName
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="多态"><a href="#多态" aria-hidden="true" class="header-anchor">#</a> 多态</h3> <p><code>多态</code>指的就是父类定义一个方法而不去实现它，让继承它的子类去实现它，每一个子类都有不同的表现。多态也是继承的一种表现。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> name<span class="token punctuation">:</span> string<span class="token punctuation">;</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> string<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token keyword">void</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Dog 类继承 Animal</span>
<span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> string<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 实现父类的方法</span>
  <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="抽象类和抽象方法"><a href="#抽象类和抽象方法" aria-hidden="true" class="header-anchor">#</a> 抽象类和抽象方法</h3> <p><code>抽象类</code>是指只能够被其他类继承而不能被直接实例化的类。
<code>抽象方法</code>也是指那些只能被定义而不能被实现，而且子类必须实现的方法。而且，<code>抽象方法</code>只能放在抽象类中。抽象类中可以包含非抽象方法。</p> <p><code>抽象类</code>和<code>抽象方法</code>都是通过关键字<code>abstract</code>声明</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>abstract <span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  abstract <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> string<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> string<span class="token punctuation">;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> string<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 必须实现父类的抽象方法 eat</span>
  <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>string <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span> <span class="token comment">// ts 编译报错 无法创建抽象类的实例</span>

<span class="token keyword">const</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token string">'a dog'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h2 id="接口"><a href="#接口" aria-hidden="true" class="header-anchor">#</a> 接口</h2> <p>在面向对象的编程语言中，接口是一种规范的定义，它定义了行为和动作的规范，在程序设计语言中，它起到了一种限制行为和规范的作用。接口定义了某一批类所需要遵守的规范，接口并不关心这些类方法的实现细节，只规定了这些<strong>类中所需要必须实现的属性和方法</strong>。</p> <h3 id="属性接口"><a href="#属性接口" aria-hidden="true" class="header-anchor">#</a> 属性接口</h3> <p>这种类型的接口是对<code>json</code>类型的数据的约束，对<code>json</code>中包含的字段进行了规定。接口的定义如下</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">interface</span> 接口名称 <span class="token punctuation">{</span>
  约束一<span class="token punctuation">;</span>
  约束二<span class="token punctuation">;</span>
  <span class="token operator">...</span>
  约束三<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 规定了参数必须要有一个属性是name且是字符串类型的字段</span>
<span class="token comment">// 而且这个对象中只能包含name属性</span>
<span class="token keyword">function</span> <span class="token function">printLabel</span><span class="token punctuation">(</span>label<span class="token punctuation">:</span> <span class="token punctuation">{</span>name<span class="token punctuation">:</span> string<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>label<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">printLabel</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'label'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">printLabel</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'label'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">23</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// ts 编译错误</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>通过接口<code>interface</code>进行约束</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">interface</span> <span class="token class-name">FullName</span><span class="token punctuation">{</span>
  firstName<span class="token punctuation">:</span> string<span class="token punctuation">;</span>
  lastName<span class="token punctuation">:</span> string
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">fullName</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> FullName<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">fullName</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  firstName<span class="token punctuation">:</span> <span class="token string">'zhao'</span><span class="token punctuation">,</span>
  lastName<span class="token punctuation">:</span> <span class="token string">'saisai'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>有些接口的属性是可选的，我们可按照如下方式定义</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">interface</span> <span class="token class-name">OptionalProp</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> string<span class="token punctuation">;</span>
  <span class="token comment">// 表示age是一个可选属性</span>
  age<span class="token operator">?</span><span class="token punctuation">:</span> string<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="函数类型接口"><a href="#函数类型接口" aria-hidden="true" class="header-anchor">#</a> 函数类型接口</h3> <p>函数类型接口主要是对方法传入的参数和返回值进行限制。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">interface</span> 接口名称 <span class="token punctuation">{</span>
  <span class="token punctuation">(</span>函数参数列表限制<span class="token punctuation">)</span><span class="token punctuation">:</span> 返回值限制<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>比如：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">interface</span> <span class="token class-name">encrypt</span> <span class="token punctuation">{</span>
  <span class="token punctuation">(</span>key<span class="token punctuation">:</span> string<span class="token punctuation">,</span> val<span class="token punctuation">:</span> string<span class="token punctuation">)</span><span class="token punctuation">:</span>string<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> md5<span class="token punctuation">:</span> encrypt <span class="token operator">=</span> <span class="token punctuation">(</span>key<span class="token punctuation">:</span> string<span class="token punctuation">,</span> val<span class="token punctuation">:</span> string<span class="token punctuation">)</span><span class="token punctuation">:</span> string <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> key <span class="token operator">+</span> val
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="可索引接口"><a href="#可索引接口" aria-hidden="true" class="header-anchor">#</a> 可索引接口</h3> <p>可索引接口是对数组和对象的约束（不常用）。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">interface</span> <span class="token class-name">UserArr</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>index<span class="token punctuation">:</span> number<span class="token punctuation">]</span><span class="token punctuation">:</span> string
<span class="token punctuation">}</span>

<span class="token keyword">const</span> arr<span class="token punctuation">:</span> UserArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'hello'</span><span class="token punctuation">,</span> <span class="token string">'world'</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="类类型接口"><a href="#类类型接口" aria-hidden="true" class="header-anchor">#</a> 类类型接口</h3> <p>类类型接口是对类的约束，和抽象类比较相似。类类型接口通过<code>implements</code>关键字实现</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">interface</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> string<span class="token punctuation">;</span>

  <span class="token function">eat</span><span class="token punctuation">(</span>str<span class="token punctuation">:</span> string<span class="token punctuation">)</span><span class="token punctuation">:</span> string<span class="token punctuation">;</span>

  <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token keyword">implements</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> string <span class="token operator">=</span> <span class="token string">'dog'</span><span class="token punctuation">;</span>

  <span class="token function">eat</span><span class="token punctuation">(</span>str<span class="token punctuation">:</span> string<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> str
  <span class="token punctuation">}</span>

  <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="接口扩展"><a href="#接口扩展" aria-hidden="true" class="header-anchor">#</a> 接口扩展</h3> <p>接口扩展就是指接口可以继承接口。接口扩展也是通过关键字<code>extends</code>实现。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">interface</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  <span class="token function">work</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Male</span> <span class="token keyword">implements</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token function">work</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="泛型"><a href="#泛型" aria-hidden="true" class="header-anchor">#</a> 泛型</h2> <p>泛型就是解决类，接口，方法之间的复用性，以及对不确定数据类型的支持。泛型是可以支持不确定的数据类型。</p> <p>比如一个方法可能会返回<code>string</code>或者<code>number</code>类型</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> getData<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>value<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> value
<span class="token punctuation">}</span>

getData<span class="token operator">&lt;</span>number<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span>
getData<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token string">'string'</span><span class="token punctuation">)</span>
getData<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span> <span class="token comment">// ts 编译会报错</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>上面方法中的<code>T</code>表示的就是泛型，上述方法的限制就是给函数传入什么类型返回的就是什么类型。<code>T</code>名称可改，但是需要三者保持一致。当然也可以声明返回类型是<code>any</code></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> getData<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>value<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">:</span> any <span class="token punctuation">{</span>
  <span class="token keyword">return</span> value
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>这个方法就对方法返回值的类型不作任何限制了。</p> <h3 id="泛型类"><a href="#泛型类" aria-hidden="true" class="header-anchor">#</a> 泛型类</h3> <p>泛型类的定义如下</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">MinClass</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> list<span class="token punctuation">:</span><span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token function">add</span><span class="token punctuation">(</span>value<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">min</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Math<span class="token punctuation">.</span>min<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> min <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MinClass</span><span class="token operator">&lt;</span>number<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

min<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
min<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
min<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="泛型接口"><a href="#泛型接口" aria-hidden="true" class="header-anchor">#</a> 泛型接口</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">interface</span> <span class="token class-name">Config</span> <span class="token punctuation">{</span>
  <span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>value<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token constant">T</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> getData<span class="token punctuation">:</span> Config <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>val<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token constant">T</span> <span class="token operator">=&gt;</span> val

getData<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token string">'hello world'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>下面也是一种定义泛型接口的方式</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">interface</span> <span class="token class-name">Config</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token punctuation">(</span>value<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token constant">T</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> getData<span class="token punctuation">:</span> Config<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>val<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token constant">T</span> <span class="token operator">=&gt;</span> val

<span class="token function">getData</span><span class="token punctuation">(</span><span class="token string">'hello world'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/blog/assets/js/57.45fe5cf0.js" defer></script><script src="/blog/assets/js/app.08ed72a4.js" defer></script>
  </body>
</html>
