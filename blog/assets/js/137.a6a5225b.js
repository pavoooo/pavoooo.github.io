(window.webpackJsonp=window.webpackJsonp||[]).push([[137],{164:function(a,s,t){"use strict";t.r(s);var n=t(0),e=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("div",{staticClass:"content"},[t("h1",[a._v("DNS服务")]),a._v(" "),t("h2",{attrs:{id:"dns服务介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dns服务介绍","aria-hidden":"true"}},[a._v("#")]),a._v(" DNS服务介绍")]),a._v(" "),t("p",[t("code",[a._v("DNS")]),a._v("被称为域名系统。"),t("code",[a._v("DNS")]),a._v("服务也被称为域名解析服务。域名解析通常有两种方式：递归查询和迭代查询。")]),a._v(" "),t("h2",{attrs:{id:"bind软件安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#bind软件安装","aria-hidden":"true"}},[a._v("#")]),a._v(" BIND软件安装")]),a._v(" "),t("p",[a._v("我们可以直接在"),t("code",[a._v("/etc/hosts")]),a._v("文件中配置域名映射。")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@instance-6w9riila ~"),t("span",{attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{attrs:{class:"token comment"}},[a._v("# cat /etc/hosts")]),a._v("\n127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4\n::1         localhost localhost.localdomain localhost6 localhost6.localdomain6\n172.16.0.4 instance-6w9riila instance-6w9riila.novalocal\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br")])]),t("p",[a._v("安装"),t("code",[a._v("BIND")])]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("yum "),t("span",{attrs:{class:"token function"}},[a._v("install")]),a._v(" bind bind-utils\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("修改配置文件")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("vim /etc/named.conf\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v(" listen-on port 53 "),t("span",{attrs:{class:"token punctuation"}},[a._v("{")]),a._v(" 127.0.0.1"),t("span",{attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),t("span",{attrs:{class:"token punctuation"}},[a._v("}")]),t("span",{attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" -"),t("span",{attrs:{class:"token operator"}},[a._v(">")]),a._v("  listen-on port 53 "),t("span",{attrs:{class:"token punctuation"}},[a._v("{")]),a._v(" anys"),t("span",{attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),t("span",{attrs:{class:"token punctuation"}},[a._v("}")]),t("span",{attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n allow-query     "),t("span",{attrs:{class:"token punctuation"}},[a._v("{")]),a._v(" localhost"),t("span",{attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),t("span",{attrs:{class:"token punctuation"}},[a._v("}")]),t("span",{attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" -"),t("span",{attrs:{class:"token operator"}},[a._v(">")]),a._v(" allow-query     "),t("span",{attrs:{class:"token punctuation"}},[a._v("{")]),a._v(" any"),t("span",{attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),t("span",{attrs:{class:"token punctuation"}},[a._v("}")]),t("span",{attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("p",[a._v("启动"),t("code",[a._v("BIND")]),a._v("服务")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("systemctl start named.service\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("h2",{attrs:{id:"bind的配置文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#bind的配置文件","aria-hidden":"true"}},[a._v("#")]),a._v(" BIND的配置文件")]),a._v(" "),t("h2",{attrs:{id:"使用dig和nslookup命令测试dns"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用dig和nslookup命令测试dns","aria-hidden":"true"}},[a._v("#")]),a._v(" 使用dig和nslookup命令测试DNS")]),a._v(" "),t("h2",{attrs:{id:"从根域名服务器的配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#从根域名服务器的配置","aria-hidden":"true"}},[a._v("#")]),a._v(" 从根域名服务器的配置")])])}],!1,null,null,null);e.options.__file="44-DNS服务.md";s.default=e.exports}}]);